{
  "version": 3,
  "sources": ["../../ngraph.forcelayout/lib/codeGenerators/getVariableName.js", "../../ngraph.forcelayout/lib/codeGenerators/createPatternBuilder.js", "../../ngraph.forcelayout/lib/codeGenerators/generateCreateBody.js", "../../ngraph.forcelayout/lib/codeGenerators/generateQuadTree.js", "../../ngraph.forcelayout/lib/codeGenerators/generateBounds.js", "../../ngraph.forcelayout/lib/codeGenerators/generateCreateDragForce.js", "../../ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js", "../../ngraph.forcelayout/lib/codeGenerators/generateIntegrator.js", "../../ngraph.forcelayout/lib/spring.js", "../../ngraph.merge/index.js", "../../ngraph.events/index.js", "../../ngraph.random/index.js", "../../ngraph.forcelayout/lib/createPhysicsSimulator.js", "../../ngraph.forcelayout/index.js", "../../three/examples/jsm/controls/DragControls.js", "../../d3-force-3d/src/center.js", "../../d3-binarytree/src/add.js", "../../d3-binarytree/src/cover.js", "../../d3-binarytree/src/data.js", "../../d3-binarytree/src/extent.js", "../../d3-binarytree/src/half.js", "../../d3-binarytree/src/find.js", "../../d3-binarytree/src/remove.js", "../../d3-binarytree/src/root.js", "../../d3-binarytree/src/size.js", "../../d3-binarytree/src/visit.js", "../../d3-binarytree/src/visitAfter.js", "../../d3-binarytree/src/x.js", "../../d3-binarytree/src/binarytree.js", "../../d3-quadtree/src/add.js", "../../d3-quadtree/src/cover.js", "../../d3-quadtree/src/data.js", "../../d3-quadtree/src/extent.js", "../../d3-quadtree/src/quad.js", "../../d3-quadtree/src/find.js", "../../d3-quadtree/src/remove.js", "../../d3-quadtree/src/root.js", "../../d3-quadtree/src/size.js", "../../d3-quadtree/src/visit.js", "../../d3-quadtree/src/visitAfter.js", "../../d3-quadtree/src/x.js", "../../d3-quadtree/src/y.js", "../../d3-quadtree/src/quadtree.js", "../../d3-force-3d/src/constant.js", "../../d3-force-3d/src/jiggle.js", "../../d3-force-3d/src/link.js", "../../d3-force-3d/src/lcg.js", "../../d3-force-3d/src/simulation.js", "../../d3-force-3d/src/manyBody.js", "../../d3-force-3d/src/radial.js", "../../ngraph.events/index.js", "../../ngraph.graph/index.js", "../../three-forcegraph/dist/three-forcegraph.mjs", "../../3d-force-graph/dist/3d-force-graph.mjs", "../../react-force-graph-3d/dist/react-force-graph-3d.mjs"],
  "sourcesContent": ["module.exports = function getVariableName(index) {\n  if (index === 0) return 'x';\n  if (index === 1) return 'y';\n  if (index === 2) return 'z';\n  return 'c' + (index + 1);\n};", "const getVariableName = require('./getVariableName');\n\nmodule.exports = function createPatternBuilder(dimension) {\n\n  return pattern;\n  \n  function pattern(template, config) {\n    let indent = (config && config.indent) || 0;\n    let join = (config && config.join !== undefined) ? config.join : '\\n';\n    let indentString = Array(indent + 1).join(' ');\n    let buffer = [];\n    for (let i = 0; i < dimension; ++i) {\n      let variableName = getVariableName(i);\n      let prefix = (i === 0) ? '' : indentString;\n      buffer.push(prefix + template.replace(/{var}/g, variableName));\n    }\n    return buffer.join(join);\n  }\n};\n", "\nconst createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateBodyFunction;\nmodule.exports.generateCreateBodyFunctionBody = generateCreateBodyFunctionBody;\n\n// InlineTransform: getVectorCode\nmodule.exports.getVectorCode = getVectorCode;\n// InlineTransform: getBodyCode\nmodule.exports.getBodyCode = getBodyCode;\n// InlineTransformExport: module.exports = function() { return Body; }\n\nfunction generateCreateBodyFunction(dimension, debugSetters) {\n  let code = generateCreateBodyFunctionBody(dimension, debugSetters);\n  let {Body} = (new Function(code))();\n  return Body;\n}\n\nfunction generateCreateBodyFunctionBody(dimension, debugSetters) {\n  let code = `\n${getVectorCode(dimension, debugSetters)}\n${getBodyCode(dimension, debugSetters)}\nreturn {Body: Body, Vector: Vector};\n`;\n  return code;\n}\n\nfunction getBodyCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let variableList = pattern('{var}', {join: ', '});\n  return `\nfunction Body(${variableList}) {\n  this.isPinned = false;\n  this.pos = new Vector(${variableList});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${variableList}) {\n  ${pattern('this.pos.{var} = {var} || 0;', {indent: 2})}\n};`;\n}\n\nfunction getVectorCode(dimension, debugSetters) {\n  let pattern = createPatternBuilder(dimension);\n  let setters = '';\n  if (debugSetters) {\n    setters = `${pattern(\"\\n\\\n   var v{var};\\n\\\nObject.defineProperty(this, '{var}', {\\n\\\n  set: function(v) { \\n\\\n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\\n\\\n    v{var} = v; \\n\\\n  },\\n\\\n  get: function() { return v{var}; }\\n\\\n});\")}`;\n  }\n\n  let variableList = pattern('{var}', {join: ', '});\n  return `function Vector(${variableList}) {\n  ${setters}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${pattern('if (!Number.isFinite(v.{var})) throw new Error(\"Expected value is not a finite number at Vector constructor ({var})\");', {indent: 4})}\n      ${pattern('this.{var} = v.{var};', {indent: 4})}\n    } else {\n      ${pattern('this.{var} = typeof {var} === \"number\" ? {var} : 0;', {indent: 4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${pattern('this.{var} = ', {join: ''})}0;\n  };`;\n}", "const createPatternBuilder = require('./createPatternBuilder');\nconst getVariableName = require('./getVariableName');\n\nmodule.exports = generateQuadTreeFunction;\nmodule.exports.generateQuadTreeFunctionBody = generateQuadTreeFunctionBody;\n\n// These exports are for InlineTransform tool.\n// InlineTransform: getInsertStackCode\nmodule.exports.getInsertStackCode = getInsertStackCode;\n// InlineTransform: getQuadNodeCode\nmodule.exports.getQuadNodeCode = getQuadNodeCode;\n// InlineTransform: isSamePosition\nmodule.exports.isSamePosition = isSamePosition;\n// InlineTransform: getChildBodyCode\nmodule.exports.getChildBodyCode = getChildBodyCode;\n// InlineTransform: setChildBodyCode\nmodule.exports.setChildBodyCode = setChildBodyCode;\n\nfunction generateQuadTreeFunction(dimension) {\n  let code = generateQuadTreeFunctionBody(dimension);\n  return (new Function(code))();\n}\n\nfunction generateQuadTreeFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n\n  let code = `\n${getInsertStackCode()}\n${getQuadNodeCode(dimension)}\n${isSamePosition(dimension)}\n${getChildBodyCode(dimension)}\n${setChildBodyCode(dimension)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${assignQuads('      node.')}\n      node.body = null;\n      node.mass = ${pattern('node.mass_{var} = ', {join: ''})}0;\n      ${pattern('node.min_{var} = node.max_{var} = ', {join: ''})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${pattern('var d{var};', {indent: 4})}\n    var r; \n    ${pattern('var f{var} = 0;', {indent: 4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${pattern('d{var} = body.pos.{var} - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${pattern('f{var} += v * d{var};', {indent: 8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${pattern('d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n        // If s / r < Î¸, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${getVariableName(0)} - node.min_${getVariableName(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${pattern('f{var} += v * d{var};', {indent: 10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${runRecursiveOnChildren()}\n        }\n      }\n    }\n\n    ${pattern('sourceBody.force.{var} += f{var};', {indent: 4})}\n  }\n\n  function insertBodies(bodies) {\n    ${pattern('var {var}min = Number.MAX_VALUE;', {indent: 4})}\n    ${pattern('var {var}max = Number.MIN_VALUE;', {indent: 4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${pattern('if (pos.{var} < {var}min) {var}min = pos.{var};', {indent: 6})}\n      ${pattern('if (pos.{var} > {var}max) {var}max = pos.{var};', {indent: 6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${pattern('if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;', {indent: 4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${pattern('root.min_{var} = {var}min;', {indent: 4})}\n    ${pattern('root.max_{var} = {var}min + maxSideLength;', {indent: 4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${pattern('var {var} = body.pos.{var};', {indent: 8})}\n        node.mass += body.mass;\n        ${pattern('node.mass_{var} += body.mass * {var};', {indent: 8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${pattern('var min_{var} = node.min_{var};', {indent: 8})}\n        ${pattern('var max_{var} = (min_{var} + node.max_{var}) / 2;', {indent: 8})}\n\n${assignInsertionQuadIndex(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${pattern('child.min_{var} = min_{var};', {indent: 10})}\n          ${pattern('child.max_{var} = max_{var};', {indent: 10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${pattern('var d{var} = (node.max_{var} - node.min_{var}) * offset;', {indent: 12})}\n\n            ${pattern('oldBody.pos.{var} = node.min_{var} + d{var};', {indent: 12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`;\n  return code;\n\n\n  function assignInsertionQuadIndex(indentCount) {\n    let insertionCode = [];\n    let indent = Array(indentCount + 1).join(' ');\n    for (let i = 0; i < dimension; ++i) {\n      insertionCode.push(indent + `if (${getVariableName(i)} > max_${getVariableName(i)}) {`);\n      insertionCode.push(indent + `  quadIdx = quadIdx + ${Math.pow(2, i)};`);\n      insertionCode.push(indent + `  min_${getVariableName(i)} = max_${getVariableName(i)};`);\n      insertionCode.push(indent + `  max_${getVariableName(i)} = node.max_${getVariableName(i)};`);\n      insertionCode.push(indent + `}`);\n    }\n    return insertionCode.join('\\n');\n    // if (x > max_x) { // somewhere in the eastern part.\n    //   quadIdx = quadIdx + 1;\n    //   left = right;\n    //   right = node.right;\n    // }\n  }\n\n  function runRecursiveOnChildren() {\n    let indent = Array(11).join(' ');\n    let recursiveCode = [];\n    for (let i = 0; i < quadCount; ++i) {\n      recursiveCode.push(indent + `if (node.quad${i}) {`);\n      recursiveCode.push(indent + `  queue[pushIdx] = node.quad${i};`);\n      recursiveCode.push(indent + `  queueLength += 1;`);\n      recursiveCode.push(indent + `  pushIdx += 1;`);\n      recursiveCode.push(indent + `}`);\n    }\n    return recursiveCode.join('\\n');\n    // if (node.quad0) {\n    //   queue[pushIdx] = node.quad0;\n    //   queueLength += 1;\n    //   pushIdx += 1;\n    // }\n  }\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction isSamePosition(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  return `\n  function isSamePosition(point1, point2) {\n    ${pattern('var d{var} = Math.abs(point1.{var} - point2.{var});', {indent: 2})}\n  \n    return ${pattern('d{var} < 1e-8', {join: ' && '})};\n  }  \n`;\n}\n\nfunction setChildBodyCode(dimension) {\n  var quadCount = Math.pow(2, dimension);\n  return `\nfunction setChild(node, idx, child) {\n  ${setChildBody()}\n}`;\n  function setChildBody() {\n    let childBody = [];\n    for (let i = 0; i < quadCount; ++i) {\n      let prefix = (i === 0) ? '  ' : '  else ';\n      childBody.push(`${prefix}if (idx === ${i}) node.quad${i} = child;`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) node.quad0 = child;\n    // else if (idx === 1) node.quad1 = child;\n    // else if (idx === 2) node.quad2 = child;\n    // else if (idx === 3) node.quad3 = child;\n  }\n}\n\nfunction getChildBodyCode(dimension) {\n  return `function getChild(node, idx) {\n${getChildBody()}\n  return null;\n}`;\n\n  function getChildBody() {\n    let childBody = [];\n    let quadCount = Math.pow(2, dimension);\n    for (let i = 0; i < quadCount; ++i) {\n      childBody.push(`  if (idx === ${i}) return node.quad${i};`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) return node.quad0;\n    // if (idx === 1) return node.quad1;\n    // if (idx === 2) return node.quad2;\n    // if (idx === 3) return node.quad3;\n  }\n}\n\nfunction getQuadNodeCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n  var quadNodeCode = `\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${assignQuads('  this.')}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${pattern('this.mass_{var} = 0;', {indent: 2})}\n\n  // bounding box coordinates\n  ${pattern('this.min_{var} = 0;', {indent: 2})}\n  ${pattern('this.max_{var} = 0;', {indent: 2})}\n}\n`;\n  return quadNodeCode;\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction getInsertStackCode() {\n  return `\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n`;\n}", "\nmodule.exports = generateBoundsFunction;\nmodule.exports.generateFunctionBody = generateBoundsFunctionBody;\n\nconst createPatternBuilder = require('./createPatternBuilder');\n\nfunction generateBoundsFunction(dimension) {\n  let code = generateBoundsFunctionBody(dimension);\n  return new Function('bodies', 'settings', 'random', code);\n}\n\nfunction generateBoundsFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n\n  let code = `\n  var boundingBox = {\n    ${pattern('min_{var}: 0, max_{var}: 0,', {indent: 4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${pattern('base_{var} = 0', {join: ', '})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${pattern('base_{var} += neighborPos.{var};', {indent: 10})}\n        }\n\n        ${pattern('base_{var} /= neighbors.length;', {indent: 8})}\n      } else {\n        ${pattern('base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;', {indent: 8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${pattern('{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,', {indent: 8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${pattern('var max_{var} = -Infinity;', {indent: 4})}\n    ${pattern('var min_{var} = Infinity;', {indent: 4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${pattern('if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};', {indent: 6})}\n      ${pattern('if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};', {indent: 6})}\n    }\n\n    ${pattern('boundingBox.min_{var} = min_{var};', {indent: 4})}\n    ${pattern('boundingBox.max_{var} = max_{var};', {indent: 4})}\n  }\n\n  function resetBoundingBox() {\n    ${pattern('boundingBox.min_{var} = boundingBox.max_{var} = 0;', {indent: 4})}\n  }\n`;\n  return code;\n}\n", "const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateDragForceFunction;\nmodule.exports.generateCreateDragForceFunctionBody = generateCreateDragForceFunctionBody;\n\nfunction generateCreateDragForceFunction(dimension) {\n  let code = generateCreateDragForceFunctionBody(dimension);\n  return new Function('options', code);\n}\n\nfunction generateCreateDragForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${pattern('body.force.{var} -= options.dragCoefficient * body.velocity.{var};', {indent: 6})}\n    }\n  };\n`;\n  return code;\n}\n", "const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateSpringForceFunction;\nmodule.exports.generateCreateSpringForceFunctionBody = generateCreateSpringForceFunctionBody;\n\nfunction generateCreateSpringForceFunction(dimension) {\n  let code = generateCreateSpringForceFunctionBody(dimension);\n  return new Function('options', 'random', code);\n}\n\nfunction generateCreateSpringForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${pattern('var d{var} = body2.pos.{var} - body1.pos.{var};', {indent: 6})}\n      var r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n      if (r === 0) {\n        ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${pattern('body1.force.{var} += coefficient * d{var}', {indent: 6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${pattern('body2.force.{var} -= coefficient * d{var}', {indent: 6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;\n  return code;\n}\n", "const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateIntegratorFunction;\nmodule.exports.generateIntegratorFunctionBody = generateIntegratorFunctionBody;\n\nfunction generateIntegratorFunction(dimension) {\n  let code = generateIntegratorFunctionBody(dimension);\n  return new Function('bodies', 'timeStep', 'adaptiveTimeStepWeight', code);\n}\n\nfunction generateIntegratorFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${pattern('var d{var} = 0, t{var} = 0;', {indent: 2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${pattern('body.velocity.{var} += coeff * body.force.{var};', {indent: 4})}\n    ${pattern('var v{var} = body.velocity.{var};', {indent: 4})}\n    var v = Math.sqrt(${pattern('v{var} * v{var}', {join: ' + '})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${pattern('body.velocity.{var} = v{var} / v;', {indent: 6})}\n    }\n\n    ${pattern('d{var} = timeStep * body.velocity.{var};', {indent: 4})}\n\n    ${pattern('body.pos.{var} += d{var};', {indent: 4})}\n\n    ${pattern('t{var} += Math.abs(d{var});', {indent: 4})}\n  }\n\n  return (${pattern('t{var} * t{var}', {join: ' + '})})/length;\n`;\n  return code;\n}\n", "module.exports = Spring;\n\n/**\n * Represents a physical spring. Spring connects two bodies, has rest length\n * stiffness coefficient and optional weight\n */\nfunction Spring(fromBody, toBody, length, springCoefficient) {\n    this.from = fromBody;\n    this.to = toBody;\n    this.length = length;\n    this.coefficient = springCoefficient;\n}\n", "module.exports = merge;\n\n/**\n * Augments `target` with properties in `options`. Does not override\n * target's properties if they are defined and matches expected type in \n * options\n *\n * @returns {Object} merged object\n */\nfunction merge(target, options) {\n  var key;\n  if (!target) { target = {}; }\n  if (options) {\n    for (key in options) {\n      if (options.hasOwnProperty(key)) {\n        var targetHasIt = target.hasOwnProperty(key),\n            optionsValueType = typeof options[key],\n            shouldReplace = !targetHasIt || (typeof target[key] !== optionsValueType);\n\n        if (shouldReplace) {\n          target[key] = options[key];\n        } else if (optionsValueType === 'object') {\n          // go deep, don't care about loops here, we are simple API!:\n          target[key] = merge(target[key], options[key]);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n", "export default function eventify(subject) {\n  validateSubject(subject);\n\n  const eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n}\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  let registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      let handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({ callback: callback, ctx: ctx });\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      const wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        const deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          const callbacks = registeredEvents[eventName];\n          for (let i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      const callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      let fireArguments;\n      if (arguments.length > 1) {\n        // copy all args after eventName\n        fireArguments = Array.prototype.slice.call(arguments, 1);\n      }\n      for (let i = 0; i < callbacks.length; ++i) {\n        const callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  const reservedWords = ['on', 'fire', 'off'];\n  for (let i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n", "module.exports = random;\n\nmodule.exports.random = random,\nmodule.exports.randomIterator = randomIterator\n\n/**\n * Creates seeded PRNG with two methods:\n *   next() and nextDouble()\n */\nfunction random(inputSeed) {\n  var seed = typeof inputSeed === 'number' ? inputSeed : (+new Date());\n  return new Generator(seed)\n}\n\nfunction Generator(seed) {\n  this.seed = seed;\n}\n\n/**\n  * Generates random integer number in the range from 0 (inclusive) to maxValue (exclusive)\n  *\n  * @param maxValue Number REQUIRED. Omitting this number will result in NaN values from PRNG.\n  */\nGenerator.prototype.next = next;\n\n/**\n  * Generates random double number in the range from 0 (inclusive) to 1 (exclusive)\n  * This function is the same as Math.random() (except that it could be seeded)\n  */\nGenerator.prototype.nextDouble = nextDouble;\n\n/**\n * Returns a random real number from uniform distribution in [0, 1)\n */\nGenerator.prototype.uniform = nextDouble;\n\n/**\n * Returns a random real number from a Gaussian distribution\n * with 0 as a mean, and 1 as standard deviation u ~ N(0,1)\n */\nGenerator.prototype.gaussian = gaussian;\n\n/**\n * Returns a floating-point, pseudo-random number that's greater than \n * or equal to 0 and less than 1, with approximately uniform distribution over that range\n * \n * Note: This method is the same as nextDouble(), but is here for\n * compatibility with similar Math.random()\n */\nGenerator.prototype.random = nextDouble;\n\nfunction gaussian() {\n  // use the polar form of the Box-Muller transform\n  // based on https://introcs.cs.princeton.edu/java/23recursion/StdRandom.java\n  var r, x, y;\n  do {\n    x = this.nextDouble() * 2 - 1;\n    y = this.nextDouble() * 2 - 1;\n    r = x * x + y * y;\n  } while (r >= 1 || r === 0);\n\n  return x * Math.sqrt(-2 * Math.log(r)/r);\n}\n\n/**\n * See https://twitter.com/anvaka/status/1296182534150135808\n */\nGenerator.prototype.levy = levy;\n\nfunction levy() {\n  var beta = 3 / 2;\n  var sigma = Math.pow(\n      gamma( 1 + beta ) * Math.sin(Math.PI * beta / 2) / \n        (gamma((1 + beta) / 2) * beta * Math.pow(2, (beta - 1) / 2)),\n      1/beta\n  );\n  return this.gaussian() * sigma / Math.pow(Math.abs(this.gaussian()), 1/beta);\n}\n\n// gamma function approximation\nfunction gamma(z) {\n  return Math.sqrt(2 * Math.PI / z) * Math.pow((1 / Math.E) * (z + 1 / (12 * z - 1 / (10 * z))), z);\n}\n\nfunction nextDouble() {\n  var seed = this.seed;\n  // Robert Jenkins' 32 bit integer hash function.\n  seed = ((seed + 0x7ed55d16) + (seed << 12)) & 0xffffffff;\n  seed = ((seed ^ 0xc761c23c) ^ (seed >>> 19)) & 0xffffffff;\n  seed = ((seed + 0x165667b1) + (seed << 5)) & 0xffffffff;\n  seed = ((seed + 0xd3a2646c) ^ (seed << 9)) & 0xffffffff;\n  seed = ((seed + 0xfd7046c5) + (seed << 3)) & 0xffffffff;\n  seed = ((seed ^ 0xb55a4f09) ^ (seed >>> 16)) & 0xffffffff;\n  this.seed = seed;\n  return (seed & 0xfffffff) / 0x10000000;\n}\n\nfunction next(maxValue) {\n  return Math.floor(this.nextDouble() * maxValue);\n}\n\n/*\n * Creates iterator over array, which returns items of array in random order\n * Time complexity is guaranteed to be O(n);\n */\nfunction randomIterator(array, customRandom) {\n  var localRandom = customRandom || random();\n  if (typeof localRandom.next !== 'function') {\n    throw new Error('customRandom does not match expected API: next() function is missing');\n  }\n\n  return {\n    /**\n     * Visits every single element of a collection once, in a random order.\n     * Note: collection is modified in place.\n     */\n    forEach: forEach,\n\n    /**\n     * Shuffles array randomly, in place.\n     */\n    shuffle: shuffle\n  };\n\n  function shuffle() {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n\n  function forEach(callback) {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n\n      callback(t);\n    }\n\n    if (array.length) {\n      callback(array[0]);\n    }\n  }\n}\n", "/**\n * Manages a simulation of physical forces acting on bodies and springs.\n */\nmodule.exports = createPhysicsSimulator;\n\nvar generateCreateBodyFunction = require('./codeGenerators/generateCreateBody');\nvar generateQuadTreeFunction = require('./codeGenerators/generateQuadTree');\nvar generateBoundsFunction = require('./codeGenerators/generateBounds');\nvar generateCreateDragForceFunction = require('./codeGenerators/generateCreateDragForce');\nvar generateCreateSpringForceFunction = require('./codeGenerators/generateCreateSpringForce');\nvar generateIntegratorFunction = require('./codeGenerators/generateIntegrator');\n\nvar dimensionalCache = {};\n\nfunction createPhysicsSimulator(settings) {\n  var Spring = require('./spring');\n  var merge = require('ngraph.merge');\n  var eventify = require('ngraph.events');\n  if (settings) {\n    // Check for names from older versions of the layout\n    if (settings.springCoeff !== undefined) throw new Error('springCoeff was renamed to springCoefficient');\n    if (settings.dragCoeff !== undefined) throw new Error('dragCoeff was renamed to dragCoefficient');\n  }\n\n  settings = merge(settings, {\n      /**\n       * Ideal length for links (springs in physical model).\n       */\n      springLength: 10,\n\n      /**\n       * Hook's law coefficient. 1 - solid spring.\n       */\n      springCoefficient: 0.8, \n\n      /**\n       * Coulomb's law coefficient. It's used to repel nodes thus should be negative\n       * if you make it positive nodes start attract each other :).\n       */\n      gravity: -12,\n\n      /**\n       * Theta coefficient from Barnes Hut simulation. Ranged between (0, 1).\n       * The closer it's to 1 the more nodes algorithm will have to go through.\n       * Setting it to one makes Barnes Hut simulation no different from\n       * brute-force forces calculation (each node is considered).\n       */\n      theta: 0.8,\n\n      /**\n       * Drag force coefficient. Used to slow down system, thus should be less than 1.\n       * The closer it is to 0 the less tight system will be.\n       */\n      dragCoefficient: 0.9, // TODO: Need to rename this to something better. E.g. `dragCoefficient`\n\n      /**\n       * Default time step (dt) for forces integration\n       */\n      timeStep : 0.5,\n\n      /**\n       * Adaptive time step uses average spring length to compute actual time step:\n       * See: https://twitter.com/anvaka/status/1293067160755957760\n       */\n      adaptiveTimeStepWeight: 0,\n\n      /**\n       * This parameter defines number of dimensions of the space where simulation\n       * is performed. \n       */\n      dimensions: 2,\n\n      /**\n       * In debug mode more checks are performed, this will help you catch errors\n       * quickly, however for production build it is recommended to turn off this flag\n       * to speed up computation.\n       */\n      debug: false\n  });\n\n  var factory = dimensionalCache[settings.dimensions];\n  if (!factory) {\n    var dimensions = settings.dimensions;\n    factory = {\n      Body: generateCreateBodyFunction(dimensions, settings.debug),\n      createQuadTree: generateQuadTreeFunction(dimensions),\n      createBounds: generateBoundsFunction(dimensions),\n      createDragForce: generateCreateDragForceFunction(dimensions),\n      createSpringForce: generateCreateSpringForceFunction(dimensions),\n      integrate: generateIntegratorFunction(dimensions),\n    };\n    dimensionalCache[dimensions] = factory;\n  }\n\n  var Body = factory.Body;\n  var createQuadTree = factory.createQuadTree;\n  var createBounds = factory.createBounds;\n  var createDragForce = factory.createDragForce;\n  var createSpringForce = factory.createSpringForce;\n  var integrate = factory.integrate;\n  var createBody = pos => new Body(pos);\n\n  var random = require('ngraph.random').random(42);\n  var bodies = []; // Bodies in this simulation.\n  var springs = []; // Springs in this simulation.\n\n  var quadTree = createQuadTree(settings, random);\n  var bounds = createBounds(bodies, settings, random);\n  var springForce = createSpringForce(settings, random);\n  var dragForce = createDragForce(settings);\n\n  var totalMovement = 0; // how much movement we made on last step\n  var forces = [];\n  var forceMap = new Map();\n  var iterationNumber = 0;\n \n  addForce('nbody', nbodyForce);\n  addForce('spring', updateSpringForce);\n\n  var publicApi = {\n    /**\n     * Array of bodies, registered with current simulator\n     *\n     * Note: To add new body, use addBody() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    bodies: bodies,\n  \n    quadTree: quadTree,\n\n    /**\n     * Array of springs, registered with current simulator\n     *\n     * Note: To add new spring, use addSpring() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    springs: springs,\n\n    /**\n     * Returns settings with which current simulator was initialized\n     */\n    settings: settings,\n\n    /**\n     * Adds a new force to simulation\n     */\n    addForce: addForce,\n    \n    /**\n     * Removes a force from the simulation.\n     */\n    removeForce: removeForce,\n\n    /**\n     * Returns a map of all registered forces.\n     */\n    getForces: getForces,\n\n    /**\n     * Performs one step of force simulation.\n     *\n     * @returns {boolean} true if system is considered stable; False otherwise.\n     */\n    step: function () {\n      for (var i = 0; i < forces.length; ++i) {\n        forces[i](iterationNumber);\n      }\n      var movement = integrate(bodies, settings.timeStep, settings.adaptiveTimeStepWeight);\n      iterationNumber += 1;\n      return movement;\n    },\n\n    /**\n     * Adds body to the system\n     *\n     * @param {ngraph.physics.primitives.Body} body physical body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBody: function (body) {\n      if (!body) {\n        throw new Error('Body is required');\n      }\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Adds body to the system at given position\n     *\n     * @param {Object} pos position of a body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBodyAt: function (pos) {\n      if (!pos) {\n        throw new Error('Body position is required');\n      }\n      var body = createBody(pos);\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Removes body from the system\n     *\n     * @param {ngraph.physics.primitives.Body} body to remove\n     *\n     * @returns {Boolean} true if body found and removed. falsy otherwise;\n     */\n    removeBody: function (body) {\n      if (!body) { return; }\n\n      var idx = bodies.indexOf(body);\n      if (idx < 0) { return; }\n\n      bodies.splice(idx, 1);\n      if (bodies.length === 0) {\n        bounds.reset();\n      }\n      return true;\n    },\n\n    /**\n     * Adds a spring to this simulation.\n     *\n     * @returns {Object} - a handle for a spring. If you want to later remove\n     * spring pass it to removeSpring() method.\n     */\n    addSpring: function (body1, body2, springLength, springCoefficient) {\n      if (!body1 || !body2) {\n        throw new Error('Cannot add null spring to force simulator');\n      }\n\n      if (typeof springLength !== 'number') {\n        springLength = -1; // assume global configuration\n      }\n\n      var spring = new Spring(body1, body2, springLength, springCoefficient >= 0 ? springCoefficient : -1);\n      springs.push(spring);\n\n      // TODO: could mark simulator as dirty.\n      return spring;\n    },\n\n    /**\n     * Returns amount of movement performed on last step() call\n     */\n    getTotalMovement: function () {\n      return totalMovement;\n    },\n\n    /**\n     * Removes spring from the system\n     *\n     * @param {Object} spring to remove. Spring is an object returned by addSpring\n     *\n     * @returns {Boolean} true if spring found and removed. falsy otherwise;\n     */\n    removeSpring: function (spring) {\n      if (!spring) { return; }\n      var idx = springs.indexOf(spring);\n      if (idx > -1) {\n        springs.splice(idx, 1);\n        return true;\n      }\n    },\n\n    getBestNewBodyPosition: function (neighbors) {\n      return bounds.getBestNewPosition(neighbors);\n    },\n\n    /**\n     * Returns bounding box which covers all bodies\n     */\n    getBBox: getBoundingBox, \n    getBoundingBox: getBoundingBox, \n\n    invalidateBBox: function () {\n      console.warn('invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call');\n    },\n\n    // TODO: Move the force specific stuff to force\n    gravity: function (value) {\n      if (value !== undefined) {\n        settings.gravity = value;\n        quadTree.options({gravity: value});\n        return this;\n      } else {\n        return settings.gravity;\n      }\n    },\n\n    theta: function (value) {\n      if (value !== undefined) {\n        settings.theta = value;\n        quadTree.options({theta: value});\n        return this;\n      } else {\n        return settings.theta;\n      }\n    },\n\n    /**\n     * Returns pseudo-random number generator instance.\n     */\n    random: random\n  };\n\n  // allow settings modification via public API:\n  expose(settings, publicApi);\n\n  eventify(publicApi);\n\n  return publicApi;\n\n  function getBoundingBox() {\n    bounds.update();\n    return bounds.box;\n  }\n\n  function addForce(forceName, forceFunction) {\n    if (forceMap.has(forceName)) throw new Error('Force ' + forceName + ' is already added');\n\n    forceMap.set(forceName, forceFunction);\n    forces.push(forceFunction);\n  }\n\n  function removeForce(forceName) {\n    var forceIndex = forces.indexOf(forceMap.get(forceName));\n    if (forceIndex < 0) return;\n    forces.splice(forceIndex, 1);\n    forceMap.delete(forceName);\n  }\n\n  function getForces() {\n    // TODO: Should I trust them or clone the forces?\n    return forceMap;\n  }\n\n  function nbodyForce(/* iterationUmber */) {\n    if (bodies.length === 0) return;\n\n    quadTree.insertBodies(bodies);\n    var i = bodies.length;\n    while (i--) {\n      var body = bodies[i];\n      if (!body.isPinned) {\n        body.reset();\n        quadTree.updateBodyForce(body);\n        dragForce.update(body);\n      }\n    }\n  }\n\n  function updateSpringForce() {\n    var i = springs.length;\n    while (i--) {\n      springForce.update(springs[i]);\n    }\n  }\n\n}\n\nfunction expose(settings, target) {\n  for (var key in settings) {\n    augment(settings, target, key);\n  }\n}\n\nfunction augment(source, target, key) {\n  if (!source.hasOwnProperty(key)) return;\n  if (typeof target[key] === 'function') {\n    // this accessor is already defined. Ignore it\n    return;\n  }\n  var sourceIsNumber = Number.isFinite(source[key]);\n\n  if (sourceIsNumber) {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        if (!Number.isFinite(value)) throw new Error('Value of ' + key + ' should be a valid number.');\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  } else {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  }\n}\n", "module.exports = createLayout;\nmodule.exports.simulator = require('./lib/createPhysicsSimulator');\n\nvar eventify = require('ngraph.events');\n\n/**\n * Creates force based layout for a given graph.\n *\n * @param {ngraph.graph} graph which needs to be laid out\n * @param {object} physicsSettings if you need custom settings\n * for physics simulator you can pass your own settings here. If it's not passed\n * a default one will be created.\n */\nfunction createLayout(graph, physicsSettings) {\n  if (!graph) {\n    throw new Error('Graph structure cannot be undefined');\n  }\n\n  var createSimulator = (physicsSettings && physicsSettings.createSimulator) || require('./lib/createPhysicsSimulator');\n  var physicsSimulator = createSimulator(physicsSettings);\n  if (Array.isArray(physicsSettings)) throw new Error('Physics settings is expected to be an object');\n\n  var nodeMass = graph.version > 19 ? defaultSetNodeMass : defaultArrayNodeMass;\n  if (physicsSettings && typeof physicsSettings.nodeMass === 'function') {\n    nodeMass = physicsSettings.nodeMass;\n  }\n\n  var nodeBodies = new Map();\n  var springs = {};\n  var bodiesCount = 0;\n\n  var springTransform = physicsSimulator.settings.springTransform || noop;\n\n  // Initialize physics with what we have in the graph:\n  initPhysics();\n  listenToEvents();\n\n  var wasStable = false;\n\n  var api = {\n    /**\n     * Performs one step of iterative layout algorithm\n     *\n     * @returns {boolean} true if the system should be considered stable; False otherwise.\n     * The system is stable if no further call to `step()` can improve the layout.\n     */\n    step: function() {\n      if (bodiesCount === 0) {\n        updateStableStatus(true);\n        return true;\n      }\n\n      var lastMove = physicsSimulator.step();\n\n      // Save the movement in case if someone wants to query it in the step\n      // callback.\n      api.lastMove = lastMove;\n\n      // Allow listeners to perform low-level actions after nodes are updated.\n      api.fire('step');\n\n      var ratio = lastMove/bodiesCount;\n      var isStableNow = ratio <= 0.01; // TODO: The number is somewhat arbitrary...\n      updateStableStatus(isStableNow);\n\n\n      return isStableNow;\n    },\n\n    /**\n     * For a given `nodeId` returns position\n     */\n    getNodePosition: function (nodeId) {\n      return getInitializedBody(nodeId).pos;\n    },\n\n    /**\n     * Sets position of a node to a given coordinates\n     * @param {string} nodeId node identifier\n     * @param {number} x position of a node\n     * @param {number} y position of a node\n     * @param {number=} z position of node (only if applicable to body)\n     */\n    setNodePosition: function (nodeId) {\n      var body = getInitializedBody(nodeId);\n      body.setPosition.apply(body, Array.prototype.slice.call(arguments, 1));\n    },\n\n    /**\n     * @returns {Object} Link position by link id\n     * @returns {Object.from} {x, y} coordinates of link start\n     * @returns {Object.to} {x, y} coordinates of link end\n     */\n    getLinkPosition: function (linkId) {\n      var spring = springs[linkId];\n      if (spring) {\n        return {\n          from: spring.from.pos,\n          to: spring.to.pos\n        };\n      }\n    },\n\n    /**\n     * @returns {Object} area required to fit in the graph. Object contains\n     * `x1`, `y1` - top left coordinates\n     * `x2`, `y2` - bottom right coordinates\n     */\n    getGraphRect: function () {\n      return physicsSimulator.getBBox();\n    },\n\n    /**\n     * Iterates over each body in the layout simulator and performs a callback(body, nodeId)\n     */\n    forEachBody: forEachBody,\n\n    /*\n     * Requests layout algorithm to pin/unpin node to its current position\n     * Pinned nodes should not be affected by layout algorithm and always\n     * remain at their position\n     */\n    pinNode: function (node, isPinned) {\n      var body = getInitializedBody(node.id);\n       body.isPinned = !!isPinned;\n    },\n\n    /**\n     * Checks whether given graph's node is currently pinned\n     */\n    isNodePinned: function (node) {\n      return getInitializedBody(node.id).isPinned;\n    },\n\n    /**\n     * Request to release all resources\n     */\n    dispose: function() {\n      graph.off('changed', onGraphChanged);\n      api.fire('disposed');\n    },\n\n    /**\n     * Gets physical body for a given node id. If node is not found undefined\n     * value is returned.\n     */\n    getBody: getBody,\n\n    /**\n     * Gets spring for a given edge.\n     *\n     * @param {string} linkId link identifer. If two arguments are passed then\n     * this argument is treated as formNodeId\n     * @param {string=} toId when defined this parameter denotes head of the link\n     * and first argument is treated as tail of the link (fromId)\n     */\n    getSpring: getSpring,\n\n    /**\n     * Returns length of cumulative force vector. The closer this to zero - the more stable the system is\n     */\n    getForceVectorLength: getForceVectorLength,\n\n    /**\n     * [Read only] Gets current physics simulator\n     */\n    simulator: physicsSimulator,\n\n    /**\n     * Gets the graph that was used for layout\n     */\n    graph: graph,\n\n    /**\n     * Gets amount of movement performed during last step operation\n     */\n    lastMove: 0\n  };\n\n  eventify(api);\n\n  return api;\n\n  function updateStableStatus(isStableNow) {\n    if (wasStable !== isStableNow) {\n      wasStable = isStableNow;\n      onStableChanged(isStableNow);\n    }\n  }\n\n  function forEachBody(cb) {\n    nodeBodies.forEach(cb);\n  }\n\n  function getForceVectorLength() {\n    var fx = 0, fy = 0;\n    forEachBody(function(body) {\n      fx += Math.abs(body.force.x);\n      fy += Math.abs(body.force.y);\n    });\n    return Math.sqrt(fx * fx + fy * fy);\n  }\n\n  function getSpring(fromId, toId) {\n    var linkId;\n    if (toId === undefined) {\n      if (typeof fromId !== 'object') {\n        // assume fromId as a linkId:\n        linkId = fromId;\n      } else {\n        // assume fromId to be a link object:\n        linkId = fromId.id;\n      }\n    } else {\n      // toId is defined, should grab link:\n      var link = graph.hasLink(fromId, toId);\n      if (!link) return;\n      linkId = link.id;\n    }\n\n    return springs[linkId];\n  }\n\n  function getBody(nodeId) {\n    return nodeBodies.get(nodeId);\n  }\n\n  function listenToEvents() {\n    graph.on('changed', onGraphChanged);\n  }\n\n  function onStableChanged(isStable) {\n    api.fire('stable', isStable);\n  }\n\n  function onGraphChanged(changes) {\n    for (var i = 0; i < changes.length; ++i) {\n      var change = changes[i];\n      if (change.changeType === 'add') {\n        if (change.node) {\n          initBody(change.node.id);\n        }\n        if (change.link) {\n          initLink(change.link);\n        }\n      } else if (change.changeType === 'remove') {\n        if (change.node) {\n          releaseNode(change.node);\n        }\n        if (change.link) {\n          releaseLink(change.link);\n        }\n      }\n    }\n    bodiesCount = graph.getNodesCount();\n  }\n\n  function initPhysics() {\n    bodiesCount = 0;\n\n    graph.forEachNode(function (node) {\n      initBody(node.id);\n      bodiesCount += 1;\n    });\n\n    graph.forEachLink(initLink);\n  }\n\n  function initBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      var node = graph.getNode(nodeId);\n      if (!node) {\n        throw new Error('initBody() was called with unknown node id');\n      }\n\n      var pos = node.position;\n      if (!pos) {\n        var neighbors = getNeighborBodies(node);\n        pos = physicsSimulator.getBestNewBodyPosition(neighbors);\n      }\n\n      body = physicsSimulator.addBodyAt(pos);\n      body.id = nodeId;\n\n      nodeBodies.set(nodeId, body);\n      updateBodyMass(nodeId);\n\n      if (isNodeOriginallyPinned(node)) {\n        body.isPinned = true;\n      }\n    }\n  }\n\n  function releaseNode(node) {\n    var nodeId = node.id;\n    var body = nodeBodies.get(nodeId);\n    if (body) {\n      nodeBodies.delete(nodeId);\n      physicsSimulator.removeBody(body);\n    }\n  }\n\n  function initLink(link) {\n    updateBodyMass(link.fromId);\n    updateBodyMass(link.toId);\n\n    var fromBody = nodeBodies.get(link.fromId),\n        toBody  = nodeBodies.get(link.toId),\n        spring = physicsSimulator.addSpring(fromBody, toBody, link.length);\n\n    springTransform(link, spring);\n\n    springs[link.id] = spring;\n  }\n\n  function releaseLink(link) {\n    var spring = springs[link.id];\n    if (spring) {\n      var from = graph.getNode(link.fromId),\n          to = graph.getNode(link.toId);\n\n      if (from) updateBodyMass(from.id);\n      if (to) updateBodyMass(to.id);\n\n      delete springs[link.id];\n\n      physicsSimulator.removeSpring(spring);\n    }\n  }\n\n  function getNeighborBodies(node) {\n    // TODO: Could probably be done better on memory\n    var neighbors = [];\n    if (!node.links) {\n      return neighbors;\n    }\n    var maxNeighbors = Math.min(node.links.length, 2);\n    for (var i = 0; i < maxNeighbors; ++i) {\n      var link = node.links[i];\n      var otherBody = link.fromId !== node.id ? nodeBodies.get(link.fromId) : nodeBodies.get(link.toId);\n      if (otherBody && otherBody.pos) {\n        neighbors.push(otherBody);\n      }\n    }\n\n    return neighbors;\n  }\n\n  function updateBodyMass(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    body.mass = nodeMass(nodeId);\n    if (Number.isNaN(body.mass)) {\n      throw new Error('Node mass should be a number');\n    }\n  }\n\n  /**\n   * Checks whether graph node has in its settings pinned attribute,\n   * which means layout algorithm cannot move it. Node can be marked\n   * as pinned, if it has \"isPinned\" attribute, or when node.data has it.\n   *\n   * @param {Object} node a graph node to check\n   * @return {Boolean} true if node should be treated as pinned; false otherwise.\n   */\n  function isNodeOriginallyPinned(node) {\n    return (node && (node.isPinned || (node.data && node.data.isPinned)));\n  }\n\n  function getInitializedBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      initBody(nodeId);\n      body = nodeBodies.get(nodeId);\n    }\n    return body;\n  }\n\n  /**\n   * Calculates mass of a body, which corresponds to node with given id.\n   *\n   * @param {String|Number} nodeId identifier of a node, for which body mass needs to be calculated\n   * @returns {Number} recommended mass of the body;\n   */\n  function defaultArrayNodeMass(nodeId) {\n    // This function is for older versions of ngraph.graph.\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.length / 3.0;\n  }\n\n  function defaultSetNodeMass(nodeId) {\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.size / 3.0;\n  }\n}\n\nfunction noop() { }\n", "import {\n\tControls,\n\tMatrix4,\n\tPlane,\n\tRaycaster,\n\tVector2,\n\tVector3,\n\tMOUSE,\n\tTOUCH\n} from 'three';\n\nconst _plane = new Plane();\n\nconst _pointer = new Vector2();\nconst _offset = new Vector3();\nconst _diff = new Vector2();\nconst _previousPointer = new Vector2();\nconst _intersection = new Vector3();\nconst _worldPosition = new Vector3();\nconst _inverseMatrix = new Matrix4();\n\nconst _up = new Vector3();\nconst _right = new Vector3();\n\nlet _selected = null, _hovered = null;\nconst _intersections = [];\n\nconst STATE = {\n\tNONE: - 1,\n\tPAN: 0,\n\tROTATE: 1\n};\n\n/**\n * This class can be used to provide a drag'n'drop interaction.\n *\n * ```js\n * const controls = new DragControls( objects, camera, renderer.domElement );\n *\n * // add event listener to highlight dragged objects\n * controls.addEventListener( 'dragstart', function ( event ) {\n *\n * \tevent.object.material.emissive.set( 0xaaaaaa );\n *\n * } );\n *\n * controls.addEventListener( 'dragend', function ( event ) {\n *\n * \tevent.object.material.emissive.set( 0x000000 );\n *\n * } );\n * ```\n *\n * @augments Controls\n * @three_import import { DragControls } from 'three/addons/controls/DragControls.js';\n */\nclass DragControls extends Controls {\n\n\t/**\n\t * Constructs a new controls instance.\n\t *\n\t * @param {Array<Object3D>} objects - An array of draggable 3D objects.\n\t * @param {Camera} camera - The camera of the rendered scene.\n\t * @param {?HTMLElement} [domElement=null] - The HTML DOM element used for event listeners.\n\t */\n\tconstructor( objects, camera, domElement = null ) {\n\n\t\tsuper( camera, domElement );\n\n\t\t/**\n\t\t * An array of draggable 3D objects.\n\t\t *\n\t\t * @type {Array<Object3D>}\n\t\t */\n\t\tthis.objects = objects;\n\n\t\t/**\n\t\t * Whether children of draggable objects can be dragged independently from their parent.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.recursive = true;\n\n\t\t/**\n\t\t * This option only works if the `objects` array contains a single draggable  group object.\n\t\t * If set to `true`, the controls does not transform individual objects but the entire group.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.transformGroup = false;\n\n\t\t/**\n\t\t * The speed at which the object will rotate when dragged in `rotate` mode.\n\t\t * The higher the number the faster the rotation.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.rotateSpeed = 1;\n\n\t\t/**\n\t\t * The raycaster used for detecting 3D objects.\n\t\t *\n\t\t * @type {Raycaster}\n\t\t */\n\t\tthis.raycaster = new Raycaster();\n\n\t\t// interaction\n\n\t\tthis.mouseButtons = { LEFT: MOUSE.PAN, MIDDLE: MOUSE.PAN, RIGHT: MOUSE.ROTATE };\n\t\tthis.touches = { ONE: TOUCH.PAN };\n\n\t\t// event listeners\n\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerCancel = onPointerCancel.bind( this );\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\n\t\t//\n\n\t\tif ( domElement !== null ) {\n\n\t\t\tthis.connect( domElement );\n\n\t\t}\n\n\t}\n\n\tconnect( element ) {\n\n\t\tsuper.connect( element );\n\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerCancel );\n\t\tthis.domElement.addEventListener( 'pointerleave', this._onPointerCancel );\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerCancel );\n\t\tthis.domElement.removeEventListener( 'pointerleave', this._onPointerCancel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.domElement.style.touchAction = 'auto';\n\t\tthis.domElement.style.cursor = '';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.disconnect();\n\n\t}\n\n\t_updatePointer( event ) {\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\n\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\n\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\n\n\t}\n\n\t_updateState( event ) {\n\n\t\t// determine action\n\n\t\tlet action;\n\n\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\taction = this.touches.ONE;\n\n\t\t} else {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\taction = this.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\taction = this.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\taction = this.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\taction = null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// determine state\n\n\t\tswitch ( action ) {\n\n\t\t\tcase MOUSE.PAN:\n\t\t\tcase TOUCH.PAN:\n\n\t\t\t\tthis.state = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\tthis.state = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tthis.state = STATE.NONE;\n\n\t\t}\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tconst camera = this.object;\n\tconst domElement = this.domElement;\n\tconst raycaster = this.raycaster;\n\n\tif ( this.enabled === false ) return;\n\n\tthis._updatePointer( event );\n\n\traycaster.setFromCamera( _pointer, camera );\n\n\tif ( _selected ) {\n\n\t\tif ( this.state === STATE.PAN ) {\n\n\t\t\tif ( raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\t\t_selected.position.copy( _intersection.sub( _offset ).applyMatrix4( _inverseMatrix ) );\n\t\t\t\tthis.dispatchEvent( { type: 'drag', object: _selected } );\n\n\t\t\t}\n\n\t\t} else if ( this.state === STATE.ROTATE ) {\n\n\t\t\t_diff.subVectors( _pointer, _previousPointer ).multiplyScalar( this.rotateSpeed );\n\t\t\t_selected.rotateOnWorldAxis( _up, _diff.x );\n\t\t\t_selected.rotateOnWorldAxis( _right.normalize(), - _diff.y );\n\t\t\tthis.dispatchEvent( { type: 'drag', object: _selected } );\n\n\t\t}\n\n\t\t_previousPointer.copy( _pointer );\n\n\t} else {\n\n\t\t// hover support\n\n\t\tif ( event.pointerType === 'mouse' || event.pointerType === 'pen' ) {\n\n\t\t\t_intersections.length = 0;\n\n\t\t\traycaster.setFromCamera( _pointer, camera );\n\t\t\traycaster.intersectObjects( this.objects, this.recursive, _intersections );\n\n\t\t\tif ( _intersections.length > 0 ) {\n\n\t\t\t\tconst object = _intersections[ 0 ].object;\n\n\t\t\t\t_plane.setFromNormalAndCoplanarPoint( camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( object.matrixWorld ) );\n\n\t\t\t\tif ( _hovered !== object && _hovered !== null ) {\n\n\t\t\t\t\tthis.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\tdomElement.style.cursor = 'auto';\n\t\t\t\t\t_hovered = null;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _hovered !== object ) {\n\n\t\t\t\t\tthis.dispatchEvent( { type: 'hoveron', object: object } );\n\n\t\t\t\t\tdomElement.style.cursor = 'pointer';\n\t\t\t\t\t_hovered = object;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( _hovered !== null ) {\n\n\t\t\t\t\tthis.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\tdomElement.style.cursor = 'auto';\n\t\t\t\t\t_hovered = null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_previousPointer.copy( _pointer );\n\n}\n\nfunction onPointerDown( event ) {\n\n\tconst camera = this.object;\n\tconst domElement = this.domElement;\n\tconst raycaster = this.raycaster;\n\n\tif ( this.enabled === false ) return;\n\n\tthis._updatePointer( event );\n\tthis._updateState( event );\n\n\t_intersections.length = 0;\n\n\traycaster.setFromCamera( _pointer, camera );\n\traycaster.intersectObjects( this.objects, this.recursive, _intersections );\n\n\tif ( _intersections.length > 0 ) {\n\n\t\tif ( this.transformGroup === true ) {\n\n\t\t\t// look for the outermost group in the object's upper hierarchy\n\n\t\t\t_selected = findGroup( _intersections[ 0 ].object );\n\n\t\t} else {\n\n\t\t\t_selected = _intersections[ 0 ].object;\n\n\t\t}\n\n\t\t_plane.setFromNormalAndCoplanarPoint( camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\n\t\tif ( raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\tif ( this.state === STATE.PAN ) {\n\n\t\t\t\t_inverseMatrix.copy( _selected.parent.matrixWorld ).invert();\n\t\t\t\t_offset.copy( _intersection ).sub( _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\t\t\t\tdomElement.style.cursor = 'move';\n\t\t\t\tthis.dispatchEvent( { type: 'dragstart', object: _selected } );\n\n\t\t\t} else if ( this.state === STATE.ROTATE ) {\n\n\t\t\t\t// the controls only support Y+ up\n\t\t\t\t_up.set( 0, 1, 0 ).applyQuaternion( camera.quaternion ).normalize();\n\t\t\t\t_right.set( 1, 0, 0 ).applyQuaternion( camera.quaternion ).normalize();\n\t\t\t\tdomElement.style.cursor = 'move';\n\t\t\t\tthis.dispatchEvent( { type: 'dragstart', object: _selected } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_previousPointer.copy( _pointer );\n\n}\n\nfunction onPointerCancel() {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( _selected ) {\n\n\t\tthis.dispatchEvent( { type: 'dragend', object: _selected } );\n\n\t\t_selected = null;\n\n\t}\n\n\tthis.domElement.style.cursor = _hovered ? 'pointer' : 'auto';\n\n\tthis.state = STATE.NONE;\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tevent.preventDefault();\n\n}\n\nfunction findGroup( obj, group = null ) {\n\n\tif ( obj.isGroup ) group = obj;\n\n\tif ( obj.parent === null ) return group;\n\n\treturn findGroup( obj.parent, group );\n\n}\n\n/**\n * Fires when the user drags a 3D object.\n *\n * @event DragControls#drag\n * @type {Object}\n */\n\n/**\n * Fires when the user has finished dragging a 3D object.\n *\n * @event DragControls#dragend\n * @type {Object}\n */\n\n/**\n * Fires when the pointer is moved onto a 3D object, or onto one of its children.\n *\n * @event DragControls#hoveron\n * @type {Object}\n */\n\n/**\n * Fires when the pointer is moved out of a 3D object.\n *\n * @event DragControls#hoveroff\n * @type {Object}\n */\n\nexport { DragControls };\n", "export default function(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n", "export default function(d) {\n  const x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  if (!Array.isArray(data)) data = Array.from(data);\n  const n = data.length;\n  const xz = new Float64Array(n);\n  let x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (let i = 0, x; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (let i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n", "export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries donât change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z; break;\n        case 1: x0 = x1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n", "export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n", "export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n", "export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n", "import Half from \"./half.js\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half canât contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnât necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n", "export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n", "export default function() {\n  return this._root;\n}\n", "export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n", "import Half from \"./half.js\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n", "import Half from \"./half.js\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n", "export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n", "import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;", "export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n", "export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries donât change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n", "export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n", "export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n", "export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant canât contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnât necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n", "export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n", "export default function() {\n  return this._root;\n}\n", "export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n", "export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n", "export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n", "import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n", "import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nvar MAX_DIMENSIONS = 3;\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nexport function z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n", "import {binarytree} from \"d3-binarytree\";\nimport {quadtree} from \"d3-quadtree\";\nimport {octree} from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y, z} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n", "import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, ...args) {\n    nodes = initNodes;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n", "export default function eventify(subject) {\n  validateSubject(subject);\n\n  const eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n}\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  let registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      let handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({ callback: callback, ctx: ctx });\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      const wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        const deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          const callbacks = registeredEvents[eventName];\n          for (let i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      const callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      let fireArguments;\n      if (arguments.length > 1) {\n        // copy all args after eventName\n        fireArguments = Array.prototype.slice.call(arguments, 1);\n      }\n      for (let i = 0; i < callbacks.length; ++i) {\n        const callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  const reservedWords = ['on', 'fire', 'off'];\n  for (let i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n", "/**\n * @fileOverview Contains definition of the core graph object.\n */\n\n// TODO: need to change storage layer:\n// 1. Be able to get all nodes O(1)\n// 2. Be able to get number of links O(1)\n\n/**\n * @example\n *  var graph = require('ngraph.graph')();\n *  graph.addNode(1);     // graph has one node.\n *  graph.addLink(2, 3);  // now graph contains three nodes and one link.\n *\n */\nimport eventify from 'ngraph.events';\nexport default createGraph;\n\n/**\n * Creates a new graph\n */\nfunction createGraph(options) {\n  // Graph structure is maintained as Map of nodes and Map of links.\n  // Each node has 'links' (Set) which holds all incident links. This is\n  // efficient for lookups and iteration, while keeping the API simple.\n  options = options || {};\n  if ('uniqueLinkId' in options) {\n    console.warn(\n      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\\n' +\n      'Use `multigraph` option instead\\n',\n      '\\n',\n      'Note: there is also change in default behavior: From now on each graph\\n' +\n      'is considered to be not a multigraph by default (each edge is unique).'\n    );\n\n    options.multigraph = options.uniqueLinkId;\n  }\n\n  // Dear reader, the non-multigraphs do not guarantee that there is only\n  // one link for a given pair of node. When this option is set to false\n  // we can save some memory and CPU (18% faster for non-multigraph);\n  if (options.multigraph === undefined) options.multigraph = false;\n\n  if (typeof Map !== 'function') {\n    // TODO: Should we polyfill it ourselves? We don't use much operations there..\n    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');\n  }\n\n  var nodes = new Map(); // nodeId => Node\n  var links = new Map(); // linkId => Link\n  // Hash of multi-edges. Used to track ids of edges between same nodes\n  var multiEdges = {};\n  var suspendEvents = 0;\n\n  var createLink = options.multigraph ? createUniqueLink : createSingleLink,\n\n    // Our graph API provides means to listen to graph changes. Users can subscribe\n    // to be notified about changes in the graph by using `on` method. However\n    // in some cases they don't use it. To avoid unnecessary memory consumption\n    // we will not record graph changes until we have at least one subscriber.\n    // Code below supports this optimization.\n    //\n    // Accumulates all changes made during graph updates.\n    // Each change element contains:\n    //  changeType - one of the strings: 'add', 'remove' or 'update';\n    //  node - if change is related to node this property is set to changed graph's node;\n    //  link - if change is related to link this property is set to changed graph's link;\n    changes = [],\n    recordLinkChange = noop,\n    recordNodeChange = noop,\n    enterModification = noop,\n    exitModification = noop;\n\n  // this is our public API:\n  var graphPart = {\n    /**\n     * Sometimes duck typing could be slow. Giving clients a hint about data structure\n     * via explicit version number here:\n     */\n    version: 20.0,\n\n    /**\n     * Adds node to the graph. If node with given id already exists in the graph\n     * its data is extended with whatever comes in 'data' argument.\n     *\n     * @param nodeId the node's identifier. A string or number is preferred.\n     * @param [data] additional data for the node being added. If node already\n     *   exists its data object is augmented with the new one.\n     *\n     * @return {node} The newly added node or node with given id if it already exists.\n     */\n    addNode: addNode,\n\n    /**\n     * Adds a link to the graph. The function always create a new\n     * link between two nodes. If one of the nodes does not exists\n     * a new node is created.\n     *\n     * @param fromId link start node id;\n     * @param toId link end node id;\n     * @param [data] additional data to be set on the new link;\n     *\n     * @return {link} The newly created link\n     */\n    addLink: addLink,\n\n    /**\n     * Removes link from the graph. If link does not exist does nothing.\n     *\n     * @param link - object returned by addLink() or getLinks() methods.\n     *\n     * @returns true if link was removed; false otherwise.\n     */\n    removeLink: removeLink,\n\n    /**\n     * Removes node with given id from the graph. If node does not exist in the graph\n     * does nothing.\n     *\n     * @param nodeId node's identifier passed to addNode() function.\n     *\n     * @returns true if node was removed; false otherwise.\n     */\n    removeNode: removeNode,\n\n    /**\n     * Gets node with given identifier. If node does not exist undefined value is returned.\n     *\n     * @param nodeId requested node identifier;\n     *\n     * @return {node} in with requested identifier or undefined if no such node exists.\n     */\n    getNode: getNode,\n\n    /**\n     * Gets number of nodes in this graph.\n     *\n     * @return number of nodes in the graph.\n     */\n    getNodeCount: getNodeCount,\n\n    /**\n     * Gets total number of links in the graph.\n     */\n    getLinkCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getEdgeCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getLinksCount: getLinkCount,\n\n    /**\n     * Synonym for `getNodeCount()`\n     */\n    getNodesCount: getNodeCount,\n\n    /**\n     * Gets all links (inbound and outbound) from the node with given id.\n     * If node with given id is not found null is returned.\n     *\n     * @param nodeId requested node identifier.\n     *\n     * @return Set of links from and to requested node if such node exists;\n     *   otherwise null is returned.\n     */\n    getLinks: getLinks,\n\n    /**\n     * Invokes callback on each node of the graph.\n     *\n     * @param {Function(node)} callback Function to be invoked. The function\n     *   is passed one argument: visited node.\n     */\n    forEachNode: forEachNode,\n\n    /**\n     * Invokes callback on every linked (adjacent) node to the given one.\n     *\n     * @param nodeId Identifier of the requested node.\n     * @param {Function(node, link)} callback Function to be called on all linked nodes.\n     *   The function is passed two parameters: adjacent node and link object itself.\n     * @param oriented if true graph treated as oriented.\n     */\n    forEachLinkedNode: forEachLinkedNode,\n\n    /**\n     * Enumerates all links in the graph\n     *\n     * @param {Function(link)} callback Function to be called on all links in the graph.\n     *   The function is passed one parameter: graph's link object.\n     *\n     * Link object contains at least the following fields:\n     *  fromId - node id where link starts;\n     *  toId - node id where link ends,\n     *  data - additional data passed to graph.addLink() method.\n     */\n    forEachLink: forEachLink,\n\n    /**\n     * Suspend all notifications about graph changes until\n     * endUpdate is called.\n     */\n    beginUpdate: enterModification,\n\n    /**\n     * Resumes all notifications about graph changes and fires\n     * graph 'changed' event in case there are any pending changes.\n     */\n    endUpdate: exitModification,\n\n    /**\n     * Removes all nodes and links from the graph.\n     */\n    clear: clear,\n\n    /**\n     * Detects whether there is a link between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     * NOTE: this function is synonym for getLink()\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    hasLink: getLink,\n\n    /**\n     * Detects whether there is a node with given id\n     * \n     * Operation complexity is O(1)\n     * NOTE: this function is synonym for getNode()\n     *\n     * @returns node if there is one; Falsy value otherwise.\n     */\n    hasNode: getNode,\n\n    /**\n     * Gets an edge between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     *\n     * @param {string} fromId link start identifier\n     * @param {string} toId link end identifier\n     *\n     * @returns link if there is one; undefined otherwise.\n     */\n    getLink: getLink,\n\n    /**\n     * Gets a link by its id.\n     *\n     * @param {string} linkId link identifier\n     *\n     * @returns link if there is one; undefined otherwise.\n     */\n    getLinkById: getLinkById\n  };\n\n  // this will add `on()` and `fire()` methods.\n  eventify(graphPart);\n\n  monitorSubscribers();\n\n  return graphPart;\n\n  function monitorSubscribers() {\n    var realOn = graphPart.on;\n\n    // replace real `on` with our temporary on, which will trigger change\n    // modification monitoring:\n    graphPart.on = on;\n\n    function on() {\n      // now it's time to start tracking stuff:\n      graphPart.beginUpdate = enterModification = enterModificationReal;\n      graphPart.endUpdate = exitModification = exitModificationReal;\n      recordLinkChange = recordLinkChangeReal;\n      recordNodeChange = recordNodeChangeReal;\n\n      // this will replace current `on` method with real pub/sub from `eventify`.\n      graphPart.on = realOn;\n      // delegate to real `on` handler:\n      return realOn.apply(graphPart, arguments);\n    }\n  }\n\n  function recordLinkChangeReal(link, changeType) {\n    changes.push({\n      link: link,\n      changeType: changeType\n    });\n  }\n\n  function recordNodeChangeReal(node, changeType) {\n    changes.push({\n      node: node,\n      changeType: changeType\n    });\n  }\n\n  function addNode(nodeId, data) {\n    if (nodeId === undefined) {\n      throw new Error('Invalid node identifier');\n    }\n\n    enterModification();\n\n    var node = getNode(nodeId);\n    if (!node) {\n      node = new Node(nodeId, data);\n      recordNodeChange(node, 'add');\n    } else {\n      node.data = data;\n      recordNodeChange(node, 'update');\n    }\n\n    nodes.set(nodeId, node);\n\n    exitModification();\n    return node;\n  }\n\n  function getNode(nodeId) {\n    return nodes.get(nodeId);\n  }\n\n  function removeNode(nodeId) {\n    var node = getNode(nodeId);\n    if (!node) {\n      return false;\n    }\n\n    enterModification();\n\n    var prevLinks = node.links;\n    if (prevLinks) {\n      prevLinks.forEach(removeLinkInstance);\n      node.links = null;\n    }\n\n    nodes.delete(nodeId);\n\n    recordNodeChange(node, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n\n  function addLink(fromId, toId, data) {\n    enterModification();\n\n    var fromNode = getNode(fromId) || addNode(fromId);\n    var toNode = getNode(toId) || addNode(toId);\n\n    var link = createLink(fromId, toId, data);\n    var isUpdate = links.has(link.id);\n\n    links.set(link.id, link);\n\n    // TODO: this is not cool. On large graphs potentially would consume more memory.\n    addLinkToNode(fromNode, link);\n    if (fromId !== toId) {\n      // make sure we are not duplicating links for self-loops\n      addLinkToNode(toNode, link);\n    }\n\n    recordLinkChange(link, isUpdate ? 'update' : 'add');\n\n    exitModification();\n\n    return link;\n  }\n\n  function createSingleLink(fromId, toId, data) {\n    var linkId = makeLinkId(fromId, toId);\n    var prevLink = links.get(linkId);\n    if (prevLink) {\n      prevLink.data = data;\n      return prevLink;\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function createUniqueLink(fromId, toId, data) {\n    // TODO: Find a better/faster way to store multigraphs\n    var linkId = makeLinkId(fromId, toId);\n    var isMultiEdge = multiEdges.hasOwnProperty(linkId);\n    if (isMultiEdge || getLink(fromId, toId)) {\n      if (!isMultiEdge) {\n        multiEdges[linkId] = 0;\n      }\n      var suffix = '@' + (++multiEdges[linkId]);\n      linkId = makeLinkId(fromId + suffix, toId + suffix);\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function getNodeCount() {\n    return nodes.size;\n  }\n\n  function getLinkCount() {\n    return links.size;\n  }\n\n  function getLinks(nodeId) {\n    var node = getNode(nodeId);\n    return node ? node.links : null;\n  }\n\n  function removeLink(link, otherId) {\n    if (otherId !== undefined) {\n      link = getLink(link, otherId);\n    }\n    return removeLinkInstance(link);\n  }\n\n  function removeLinkInstance(link) {\n    if (!link) {\n      return false;\n    }\n    if (!links.get(link.id)) return false;\n\n    enterModification();\n\n    links.delete(link.id);\n\n    var fromNode = getNode(link.fromId);\n    var toNode = getNode(link.toId);\n\n    if (fromNode) {\n      fromNode.links.delete(link);\n    }\n\n    if (toNode) {\n      toNode.links.delete(link);\n    }\n\n    recordLinkChange(link, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n  function getLink(fromNodeId, toNodeId) {\n    if (fromNodeId === undefined || toNodeId === undefined) return undefined;\n    return links.get(makeLinkId(fromNodeId, toNodeId));\n  }\n\n  function getLinkById(linkId) {\n    if (linkId === undefined) return undefined;\n    return links.get(linkId);\n  }\n\n  function clear() {\n    enterModification();\n    forEachNode(function (node) {\n      removeNode(node.id);\n    });\n    exitModification();\n  }\n\n  function forEachLink(callback) {\n    if (typeof callback === 'function') {\n      var valuesIterator = links.values();\n      var nextValue = valuesIterator.next();\n      while (!nextValue.done) {\n        if (callback(nextValue.value)) {\n          return true; // client doesn't want to proceed. Return.\n        }\n        nextValue = valuesIterator.next();\n      }\n    }\n  }\n\n  function forEachLinkedNode(nodeId, callback, oriented) {\n    var node = getNode(nodeId);\n\n    if (node && node.links && typeof callback === 'function') {\n      if (oriented) {\n        return forEachOrientedLink(node.links, nodeId, callback);\n      } else {\n        return forEachNonOrientedLink(node.links, nodeId, callback);\n      }\n    }\n  }\n\n  // eslint-disable-next-line no-shadow\n  function forEachNonOrientedLink(links, nodeId, callback) {\n    var quitFast;\n\n    var valuesIterator = links.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      var link = nextValue.value;\n      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;\n      quitFast = callback(nodes.get(linkedNodeId), link);\n      if (quitFast) {\n        return true; // Client does not need more iterations. Break now.\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n\n  // eslint-disable-next-line no-shadow\n  function forEachOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    var valuesIterator = links.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      var link = nextValue.value;\n      if (link.fromId === nodeId) {\n        quitFast = callback(nodes.get(link.toId), link);\n        if (quitFast) {\n          return true; // Client does not need more iterations. Break now.\n        }\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n\n  // we will not fire anything until users of this library explicitly call `on()`\n  // method.\n  function noop() { }\n\n  // Enter, Exit modification allows bulk graph updates without firing events.\n  function enterModificationReal() {\n    suspendEvents += 1;\n  }\n\n  function exitModificationReal() {\n    suspendEvents -= 1;\n    if (suspendEvents === 0 && changes.length > 0) {\n      graphPart.fire('changed', changes);\n      changes.length = 0;\n    }\n  }\n\n  function forEachNode(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);\n    }\n\n    var valuesIterator = nodes.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      if (callback(nextValue.value)) {\n        return true; // client doesn't want to proceed. Return.\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n}\n\n/**\n * Internal structure to represent node;\n */\nfunction Node(id, data) {\n  this.id = id;\n  this.links = null;\n  this.data = data;\n}\n\nfunction addLinkToNode(node, link) {\n  if (node.links) {\n    node.links.add(link);\n  } else {\n    node.links = new Set([link]);\n  }\n}\n\n/**\n * Internal structure to represent links;\n */\nfunction Link(fromId, toId, data, id) {\n  this.fromId = fromId;\n  this.toId = toId;\n  this.data = data;\n  this.id = id;\n}\n\nfunction makeLinkId(fromId, toId) {\n  return fromId.toString() + 'ð ' + toId.toString();\n}\n", "import { BufferGeometry, Mesh, SphereGeometry, Color, MeshLambertMaterial, BufferAttribute, Line, Group, CylinderGeometry, Matrix4, Box3, CubicBezierCurve3, QuadraticBezierCurve3, LineBasicMaterial, ConeGeometry, TubeGeometry, Vector3 } from 'three';\nimport { forceRadial, forceSimulation, forceLink, forceManyBody, forceCenter } from 'd3-force-3d';\nimport graph from 'ngraph.graph';\nimport forcelayout from 'ngraph.forcelayout';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport { min, max } from 'd3-array';\nimport DataBindMapper from 'data-bind-mapper';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\nimport tinyColor from 'tinycolor2';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(_assertClassBrand(s, a));\n}\nfunction _classPrivateFieldInitSpec(e, t, a) {\n  _checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(_assertClassBrand(s, a), r), r;\n}\nfunction _construct(t, e, r) {\n  if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return p;\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || false, o.configurable = true, \"value\" in o && (o.writable = true), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), Object.defineProperty(e, \"prototype\", {\n    writable: false\n  }), e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _get() {\n  return _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n    var p = _superPropBase(e, t);\n    if (p) {\n      var n = Object.getOwnPropertyDescriptor(p, t);\n      return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value;\n    }\n  }, _get.apply(null, arguments);\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: true,\n      configurable: true\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: false\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = true,\n      o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = true, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _superPropBase(t, o) {\n  for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t)););\n  return t;\n}\nfunction _superPropGet(t, o, e, r) {\n  var p = _get(_getPrototypeOf(t.prototype ), o, e);\n  return \"function\" == typeof p ? function (t) {\n    return p.apply(e, t);\n  } : p;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar _materialDispose = function materialDispose(material) {\n  if (material instanceof Array) {\n    material.forEach(_materialDispose);\n  } else {\n    if (material.map) {\n      material.map.dispose();\n    }\n    material.dispose();\n  }\n};\nvar _deallocate = function deallocate(obj) {\n  if (obj.geometry) {\n    obj.geometry.dispose();\n  }\n  if (obj.material) {\n    _materialDispose(obj.material);\n  }\n  if (obj.texture) {\n    obj.texture.dispose();\n  }\n  if (obj.children) {\n    obj.children.forEach(_deallocate);\n  }\n};\nvar emptyObject = function emptyObject(obj) {\n  while (obj.children.length) {\n    var childObj = obj.children[0];\n    obj.remove(childObj);\n    _deallocate(childObj);\n  }\n};\n\nvar _dataBindAttr = /*#__PURE__*/new WeakMap();\nvar _objBindAttr = /*#__PURE__*/new WeakMap();\nvar ThreeDigest = /*#__PURE__*/function (_DataBindMapper) {\n  function ThreeDigest(scene) {\n    var _this;\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$dataBindAttr = _ref.dataBindAttr,\n      dataBindAttr = _ref$dataBindAttr === void 0 ? '__data' : _ref$dataBindAttr,\n      _ref$objBindAttr = _ref.objBindAttr,\n      objBindAttr = _ref$objBindAttr === void 0 ? '__threeObj' : _ref$objBindAttr;\n    _classCallCheck(this, ThreeDigest);\n    _this = _callSuper(this, ThreeDigest);\n    _defineProperty(_this, \"scene\", void 0);\n    _classPrivateFieldInitSpec(_this, _dataBindAttr, void 0);\n    _classPrivateFieldInitSpec(_this, _objBindAttr, void 0);\n    _this.scene = scene;\n    _classPrivateFieldSet2(_dataBindAttr, _this, dataBindAttr);\n    _classPrivateFieldSet2(_objBindAttr, _this, objBindAttr);\n    _this.onRemoveObj(function () {});\n    return _this;\n  }\n  _inherits(ThreeDigest, _DataBindMapper);\n  return _createClass(ThreeDigest, [{\n    key: \"onCreateObj\",\n    value: function onCreateObj(fn) {\n      var _this2 = this;\n      _superPropGet(ThreeDigest, \"onCreateObj\", this)([function (d) {\n        var obj = fn(d);\n        d[_classPrivateFieldGet2(_objBindAttr, _this2)] = obj;\n        obj[_classPrivateFieldGet2(_dataBindAttr, _this2)] = d;\n        _this2.scene.add(obj);\n        return obj;\n      }]);\n      return this;\n    }\n  }, {\n    key: \"onRemoveObj\",\n    value: function onRemoveObj(fn) {\n      var _this3 = this;\n      _superPropGet(ThreeDigest, \"onRemoveObj\", this)([function (obj, dId) {\n        var d = _superPropGet(ThreeDigest, \"getData\", _this3)([obj]);\n        fn(obj, dId);\n        _this3.scene.remove(obj);\n        emptyObject(obj);\n        delete d[_classPrivateFieldGet2(_objBindAttr, _this3)];\n      }]);\n      return this;\n    }\n  }]);\n}(DataBindMapper);\n\nvar colorStr2Hex = function colorStr2Hex(str) {\n  return isNaN(str) ? parseInt(tinyColor(str).toHex(), 16) : str;\n};\nvar colorAlpha = function colorAlpha(str) {\n  return isNaN(str) ? tinyColor(str).getAlpha() : 1;\n};\nvar autoColorScale = scaleOrdinal(schemePaired);\n\n// Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths (_ref, idAccessor) {\n  var nodes = _ref.nodes,\n    links = _ref.links;\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref2$nodeFilter = _ref2.nodeFilter,\n    nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n      return true;\n    } : _ref2$nodeFilter,\n    _ref2$onLoopError = _ref2.onLoopError,\n    onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n      throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n    } : _ref2$onLoopError;\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n      target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n      node = _ref5[1];\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n      id = _ref7[0],\n      node = _ref7[1];\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var _loop = function _loop() {\n      var node = nodes[i];\n      if (nodeStack.indexOf(node) !== -1) {\n        var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n          return idAccessor(d.data);\n        });\n        if (!foundLoops.some(function (foundLoop) {\n          return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n            return id === loop[idx];\n          });\n        })) {\n          foundLoops.push(loop);\n          onLoopError(loop);\n        }\n        return 1; // continue\n      }\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    };\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      if (_loop()) continue;\n    }\n  }\n}\n\nvar three$1 = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  Group: Group,\n  Mesh: Mesh,\n  MeshLambertMaterial: MeshLambertMaterial,\n  Color: Color,\n  BufferGeometry: BufferGeometry,\n  BufferAttribute: BufferAttribute,\n  Matrix4: Matrix4,\n  Vector3: Vector3,\n  SphereGeometry: SphereGeometry,\n  CylinderGeometry: CylinderGeometry,\n  TubeGeometry: TubeGeometry,\n  ConeGeometry: ConeGeometry,\n  Line: Line,\n  LineBasicMaterial: LineBasicMaterial,\n  QuadraticBezierCurve3: QuadraticBezierCurve3,\n  CubicBezierCurve3: CubicBezierCurve3,\n  Box3: Box3\n};\nvar ngraph = {\n  graph: graph,\n  forcelayout: forcelayout\n};\n\n//\n\nvar DAG_LEVEL_NODE_RATIO = 2;\n\n// support multiple method names for backwards threejs compatibility\nvar setAttributeFn = new three$1.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\nvar applyMatrix4Fn = new three$1.BufferGeometry().applyMatrix4 ? 'applyMatrix4' : 'applyMatrix';\nvar ForceGraph = Kapsule({\n  props: {\n    jsonUrl: {\n      onChange: function onChange(jsonUrl, state) {\n        var _this = this;\n        if (jsonUrl && !state.fetchingJson) {\n          // Load data asynchronously\n          state.fetchingJson = true;\n          state.onLoading();\n          fetch(jsonUrl).then(function (r) {\n            return r.json();\n          }).then(function (json) {\n            state.fetchingJson = false;\n            state.onFinishLoading(json);\n            _this.graphData(json);\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(graphData, state) {\n        state.engineRunning = false; // Pause simulation immediately\n      }\n    },\n    numDimensions: {\n      \"default\": 3,\n      onChange: function onChange(numDim, state) {\n        var chargeForce = state.d3ForceLayout.force('charge');\n        // Increase repulsion on 3D mode for improved spatial separation\n        if (chargeForce) {\n          chargeForce.strength(numDim > 2 ? -60 : -30);\n        }\n        if (numDim < 3) {\n          eraseDimension(state.graphData.nodes, 'z');\n        }\n        if (numDim < 2) {\n          eraseDimension(state.graphData.nodes, 'y');\n        }\n        function eraseDimension(nodes, dim) {\n          nodes.forEach(function (d) {\n            delete d[dim]; // position\n            delete d[\"v\".concat(dim)]; // velocity\n          });\n        }\n      }\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, zin, zout, radialin, radialout\n        !dagMode && state.forceEngine === 'd3' && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = n.fz = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeColor: {\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {},\n    nodeOpacity: {\n      \"default\": 0.75\n    },\n    nodeVisibility: {\n      \"default\": true\n    },\n    nodeThreeObject: {},\n    nodeThreeObjectExtend: {\n      \"default\": false\n    },\n    nodePositionUpdate: {\n      triggerUpdate: false\n    },\n    // custom function to call for updating the node's position. Signature: (threeObj, { x, y, z}, node). If the function returns a truthy value, the regular node position update will not run.\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true\n    },\n    linkColor: {\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {},\n    linkOpacity: {\n      \"default\": 0.2\n    },\n    linkWidth: {},\n    // Rounded to nearest decimal. For falsy values use dimensionless line with 1px regardless of distance.\n    linkResolution: {\n      \"default\": 6\n    },\n    // how many radial segments in each line tube's geometry\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curvature radius (0: straight, 1: semi-circle)\n    linkCurveRotation: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curve rotation along the line axis (0: interection with XY plane, PI: upside down)\n    linkMaterial: {},\n    linkThreeObject: {},\n    linkThreeObjectExtend: {\n      \"default\": false\n    },\n    linkPositionUpdate: {\n      triggerUpdate: false\n    },\n    // custom function to call for updating the link's position. Signature: (threeObj, { start: { x, y, z},  end: { x, y, z }}, link). If the function returns a truthy value, the regular link position update will not run.\n    linkDirectionalArrowLength: {\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {},\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleOffset: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // starting position offset along the link's length, like a pre-delay. Values between [0, 1]\n    linkDirectionalParticleWidth: {\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {},\n    linkDirectionalParticleResolution: {\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    linkDirectionalParticleThreeObject: {},\n    forceEngine: {\n      \"default\": 'd3'\n    },\n    // d3 or ngraph\n    d3AlphaMin: {\n      \"default\": 0\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.d3ForceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.d3ForceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.d3ForceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    ngraphPhysics: {\n      \"default\": {\n        // defaults from https://github.com/anvaka/ngraph.physics.simulator/blob/master/index.js\n        timeStep: 20,\n        gravity: -1.2,\n        theta: 0.8,\n        springLength: 30,\n        springCoefficient: 0.0008,\n        dragCoefficient: 0.02\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    refresh: function refresh(state) {\n      state._flushObjects = true;\n      state._rerender();\n      return this;\n    },\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.d3ForceLayout.force(forceName); // Force getter\n      }\n      state.d3ForceLayout.force(forceName, forceFn); // Force setter\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.d3ForceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    tickFrame: function tickFrame(state) {\n      var isD3Sim = state.forceEngine !== 'ngraph';\n      if (state.engineRunning) {\n        layoutTick();\n      }\n      updateArrows();\n      updatePhotons();\n      return this;\n\n      //\n\n      function layoutTick() {\n        if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin) {\n          state.engineRunning = false; // Stop ticking graph\n          state.onEngineStop();\n        } else {\n          state.layout[isD3Sim ? 'tick' : 'step'](); // Tick it\n          state.onEngineTick();\n        }\n        var nodeThreeObjectExtendAccessor = accessorFn(state.nodeThreeObjectExtend);\n\n        // Update nodes position\n        state.nodeDataMapper.entries().forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            obj = _ref2[1];\n          if (!obj) return;\n          var pos = isD3Sim ? node : state.layout.getNodePosition(node[state.nodeId]);\n          var extendedObj = nodeThreeObjectExtendAccessor(node);\n          if (!state.nodePositionUpdate || !state.nodePositionUpdate(extendedObj ? obj.children[0] : obj, {\n            x: pos.x,\n            y: pos.y,\n            z: pos.z\n          }, node) // pass child custom object if extending the default\n          || extendedObj) {\n            obj.position.x = pos.x;\n            obj.position.y = pos.y || 0;\n            obj.position.z = pos.z || 0;\n          }\n        });\n\n        // Update links position\n        var linkWidthAccessor = accessorFn(state.linkWidth);\n        var linkCurvatureAccessor = accessorFn(state.linkCurvature);\n        var linkCurveRotationAccessor = accessorFn(state.linkCurveRotation);\n        var linkThreeObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n        state.linkDataMapper.entries().forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n            link = _ref4[0],\n            lineObj = _ref4[1];\n          if (!lineObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          calcLinkCurve(link); // calculate link curve for all links, including custom replaced, so it can be used in directional functionality\n\n          var extendedObj = linkThreeObjectExtendAccessor(link);\n          if (state.linkPositionUpdate && state.linkPositionUpdate(extendedObj ? lineObj.children[1] : lineObj,\n          // pass child custom object if extending the default\n          {\n            start: {\n              x: start.x,\n              y: start.y,\n              z: start.z\n            },\n            end: {\n              x: end.x,\n              y: end.y,\n              z: end.z\n            }\n          }, link) && !extendedObj) {\n            // exit if successfully custom updated position of non-extended obj\n            return;\n          }\n          var curveResolution = 30; // # line segments\n          var curve = link.__curve;\n\n          // select default line obj if it's an extended group\n          var line = lineObj.children.length ? lineObj.children[0] : lineObj;\n          if (line.type === 'Line') {\n            // Update line geometry\n            if (!curve) {\n              // straight line\n              var linePos = line.geometry.getAttribute('position');\n              if (!linePos || !linePos.array || linePos.array.length !== 6) {\n                line.geometry[setAttributeFn]('position', linePos = new three$1.BufferAttribute(new Float32Array(2 * 3), 3));\n              }\n              linePos.array[0] = start.x;\n              linePos.array[1] = start.y || 0;\n              linePos.array[2] = start.z || 0;\n              linePos.array[3] = end.x;\n              linePos.array[4] = end.y || 0;\n              linePos.array[5] = end.z || 0;\n              linePos.needsUpdate = true;\n            } else {\n              // bezier curve line\n              var curvePnts = curve.getPoints(curveResolution);\n              // resize buffer if needed\n              if (line.geometry.getAttribute('position').array.length !== curvePnts.length * 3) {\n                line.geometry[setAttributeFn]('position', new three$1.BufferAttribute(new Float32Array(curvePnts.length * 3), 3));\n              }\n              line.geometry.setFromPoints(curvePnts);\n            }\n            line.geometry.computeBoundingSphere();\n          } else if (line.type === 'Mesh') {\n            // Update cylinder geometry\n\n            if (!curve) {\n              // straight tube\n              if (!line.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)) {\n                var linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n                var r = linkWidth / 2;\n                var geometry = new three$1.CylinderGeometry(r, r, 1, state.linkResolution, 1, false);\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeTranslation(0, 1 / 2, 0));\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeRotationX(Math.PI / 2));\n                line.geometry.dispose();\n                line.geometry = geometry;\n              }\n              var vStart = new three$1.Vector3(start.x, start.y || 0, start.z || 0);\n              var vEnd = new three$1.Vector3(end.x, end.y || 0, end.z || 0);\n              var distance = vStart.distanceTo(vEnd);\n              line.position.x = vStart.x;\n              line.position.y = vStart.y;\n              line.position.z = vStart.z;\n              line.scale.z = distance;\n              line.parent.localToWorld(vEnd); // lookAt requires world coords\n              line.lookAt(vEnd);\n            } else {\n              // curved tube\n              if (!line.geometry.type.match(/^Tube(Buffer)?Geometry$/)) {\n                // reset object positioning\n                line.position.set(0, 0, 0);\n                line.rotation.set(0, 0, 0);\n                line.scale.set(1, 1, 1);\n              }\n              var _linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n              var _r = _linkWidth / 2;\n              var _geometry = new three$1.TubeGeometry(curve, curveResolution, _r, state.linkResolution, false);\n              line.geometry.dispose();\n              line.geometry = _geometry;\n            }\n          }\n        });\n\n        //\n\n        function calcLinkCurve(link) {\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var curvature = linkCurvatureAccessor(link);\n          if (!curvature) {\n            link.__curve = null; // Straight line\n          } else {\n            // bezier curve line (only for line types)\n            var vStart = new three$1.Vector3(start.x, start.y || 0, start.z || 0);\n            var vEnd = new three$1.Vector3(end.x, end.y || 0, end.z || 0);\n            var l = vStart.distanceTo(vEnd); // line length\n\n            var curve;\n            var curveRotation = linkCurveRotationAccessor(link);\n            if (l > 0) {\n              var dx = end.x - start.x;\n              var dy = end.y - start.y || 0;\n              var vLine = new three$1.Vector3().subVectors(vEnd, vStart);\n              var cp = vLine.clone().multiplyScalar(curvature).cross(dx !== 0 || dy !== 0 ? new three$1.Vector3(0, 0, 1) : new three$1.Vector3(0, 1, 0)) // avoid cross-product of parallel vectors (prefer Z, fallback to Y)\n              .applyAxisAngle(vLine.normalize(), curveRotation) // rotate along line axis according to linkCurveRotation\n              .add(new three$1.Vector3().addVectors(vStart, vEnd).divideScalar(2));\n              curve = new three$1.QuadraticBezierCurve3(vStart, cp, vEnd);\n            } else {\n              // Same point, draw a loop\n              var d = curvature * 70;\n              var endAngle = -curveRotation; // Rotate clockwise (from Z angle perspective)\n              var startAngle = endAngle + Math.PI / 2;\n              curve = new three$1.CubicBezierCurve3(vStart, new three$1.Vector3(d * Math.cos(startAngle), d * Math.sin(startAngle), 0).add(vStart), new three$1.Vector3(d * Math.cos(endAngle), d * Math.sin(endAngle), 0).add(vStart), vEnd);\n            }\n            link.__curve = curve;\n          }\n        }\n      }\n      function updateArrows() {\n        // update link arrow position\n        var arrowRelPosAccessor = accessorFn(state.linkDirectionalArrowRelPos);\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var nodeValAccessor = accessorFn(state.nodeVal);\n        state.arrowDataMapper.entries().forEach(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n            link = _ref6[0],\n            arrowObj = _ref6[1];\n          if (!arrowObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.cbrt(Math.max(0, nodeValAccessor(start) || 1)) * state.nodeRelSize;\n          var endR = Math.cbrt(Math.max(0, nodeValAccessor(end) || 1)) * state.nodeRelSize;\n          var arrowLength = arrowLengthAccessor(link);\n          var arrowRelPos = arrowRelPosAccessor(link);\n          var getPosAlongLine = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var lineLen = link.__curve ? link.__curve.getLength() : Math.sqrt(['x', 'y', 'z'].map(function (dim) {\n            return Math.pow((end[dim] || 0) - (start[dim] || 0), 2);\n          }).reduce(function (acc, v) {\n            return acc + v;\n          }, 0));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getPosAlongLine(posAlongLine / lineLen);\n          var arrowTail = getPosAlongLine((posAlongLine - arrowLength) / lineLen);\n          ['x', 'y', 'z'].forEach(function (dim) {\n            return arrowObj.position[dim] = arrowTail[dim];\n          });\n          var headVec = _construct(three$1.Vector3, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n            return arrowHead[c];\n          })));\n          arrowObj.parent.localToWorld(headVec); // lookAt requires world coords\n          arrowObj.lookAt(headVec);\n        });\n      }\n      function updatePhotons() {\n        // update link particle positions\n        var particleSpeedAccessor = accessorFn(state.linkDirectionalParticleSpeed);\n        var particleOffsetAccessor = accessorFn(state.linkDirectionalParticleOffset);\n        state.graphData.links.forEach(function (link) {\n          var photonsObj = state.particlesDataMapper.getObj(link);\n          var cyclePhotons = photonsObj && photonsObj.children;\n          var singleHopPhotons = link.__singleHopPhotonsObj && link.__singleHopPhotonsObj.children;\n          if ((!singleHopPhotons || !singleHopPhotons.length) && (!cyclePhotons || !cyclePhotons.length)) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = particleSpeedAccessor(link);\n          var particleOffset = Math.abs(particleOffsetAccessor(link));\n          var getPhotonPos = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var photons = [].concat(_toConsumableArray(cyclePhotons || []), _toConsumableArray(singleHopPhotons || []));\n          photons.forEach(function (photon, idx) {\n            var singleHop = photon.parent.__linkThreeObjType === 'singleHopPhotons';\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : (idx + particleOffset) / cyclePhotons.length;\n            }\n            photon.__progressRatio += particleSpeed;\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                // remove particle\n                photon.parent.remove(photon);\n                emptyObject(photon);\n                return;\n              }\n            }\n            var photonPosRatio = photon.__progressRatio;\n            var pos = getPhotonPos(photonPosRatio);\n\n            // Orient asymmetrical particles to target\n            photon.geometry.type !== 'SphereGeometry' && photon.lookAt(pos.x, pos.y, pos.z);\n            ['x', 'y', 'z'].forEach(function (dim) {\n              return photon.position[dim] = pos[dim];\n            });\n          });\n        });\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link && state.graphData.links.includes(link)) {\n        if (!link.__singleHopPhotonsObj) {\n          var obj = new three$1.Group();\n          obj.__linkThreeObjType = 'singleHopPhotons';\n          link.__singleHopPhotonsObj = obj;\n          state.graphScene.add(obj);\n        }\n        var particleObj = accessorFn(state.linkDirectionalParticleThreeObject)(link);\n        if (particleObj && state.linkDirectionalParticleThreeObject === particleObj) {\n          // clone object if it's a shared object among all links\n          particleObj = particleObj.clone();\n        }\n        if (!particleObj) {\n          var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n          var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n          var numSegments = state.linkDirectionalParticleResolution;\n          var particleGeometry = new three$1.SphereGeometry(photonR, numSegments, numSegments);\n          var linkColorAccessor = accessorFn(state.linkColor);\n          var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n          var photonColor = particleColorAccessor(link) || linkColorAccessor(link) || '#f0f0f0';\n          var materialColor = new three$1.Color(colorStr2Hex(photonColor));\n          var opacity = state.linkOpacity * 3;\n          var particleMaterial = new three$1.MeshLambertMaterial({\n            color: materialColor,\n            transparent: true,\n            opacity: opacity\n          });\n          particleObj = new three$1.Mesh(particleGeometry, particleMaterial);\n        }\n\n        // add a single hop particle\n        link.__singleHopPhotonsObj.add(particleObj);\n      }\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      if (!state.initialised) return null;\n\n      // recursively collect all nested geometries bboxes\n      var bboxes = function getBboxes(obj) {\n        var bboxes = [];\n        if (obj.geometry) {\n          obj.geometry.computeBoundingBox();\n          var box = new three$1.Box3();\n          box.copy(obj.geometry.boundingBox).applyMatrix4(obj.matrixWorld);\n          bboxes.push(box);\n        }\n        return bboxes.concat.apply(bboxes, _toConsumableArray((obj.children || []).filter(function (obj) {\n          return !obj.hasOwnProperty('__graphObjType') || obj.__graphObjType === 'node' && nodeFilter(obj.__data);\n        } // exclude filtered out nodes\n        ).map(getBboxes)));\n      }(state.graphScene);\n      if (!bboxes.length) return null;\n\n      // extract global x,y,z min/max\n      return Object.assign.apply(Object, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n        return _defineProperty({}, c, [min(bboxes, function (bb) {\n          return bb.min[c];\n        }), max(bboxes, function (bb) {\n          return bb.max[c];\n        })]);\n      })));\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      d3ForceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(threeObj, state) {\n    // Main three object to manipulate\n    state.graphScene = threeObj;\n    state.nodeDataMapper = new ThreeDigest(threeObj, {\n      objBindAttr: '__threeObj'\n    });\n    state.linkDataMapper = new ThreeDigest(threeObj, {\n      objBindAttr: '__lineObj'\n    });\n    state.arrowDataMapper = new ThreeDigest(threeObj, {\n      objBindAttr: '__arrowObj'\n    });\n    state.particlesDataMapper = new ThreeDigest(threeObj, {\n      objBindAttr: '__photonsObj'\n    });\n  },\n  update: function update(state, changedProps) {\n    var hasAnyPropChanged = function hasAnyPropChanged(propList) {\n      return propList.some(function (p) {\n        return changedProps.hasOwnProperty(p);\n      });\n    };\n    state.engineRunning = false; // pause simulation\n    typeof state.onUpdate === \"function\" && state.onUpdate();\n    if (state.nodeAutoColorBy !== null && hasAnyPropChanged(['nodeAutoColorBy', 'graphData', 'nodeColor'])) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n    if (state.linkAutoColorBy !== null && hasAnyPropChanged(['linkAutoColorBy', 'graphData', 'linkColor'])) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    }\n\n    // Digest nodes WebGL objects\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'nodeThreeObject', 'nodeThreeObjectExtend', 'nodeVal', 'nodeColor', 'nodeVisibility', 'nodeRelSize', 'nodeResolution', 'nodeOpacity'])) {\n      var customObjectAccessor = accessorFn(state.nodeThreeObject);\n      var customObjectExtendAccessor = accessorFn(state.nodeThreeObjectExtend);\n      var valAccessor = accessorFn(state.nodeVal);\n      var colorAccessor = accessorFn(state.nodeColor);\n      var visibilityAccessor = accessorFn(state.nodeVisibility);\n      var sphereGeometries = {}; // indexed by node value\n      var sphereMaterials = {}; // indexed by color\n\n      if (state._flushObjects || hasAnyPropChanged([\n      // recreate objects if any of these props have changed\n      'nodeThreeObject', 'nodeThreeObjectExtend'])) state.nodeDataMapper.clear();\n      state.nodeDataMapper.onCreateObj(function (node) {\n        var customObj = customObjectAccessor(node);\n        var extendObj = customObjectExtendAccessor(node);\n        if (customObj && state.nodeThreeObject === customObj) {\n          // clone object if it's a shared object among all nodes\n          customObj = customObj.clone();\n        }\n        var obj;\n        if (customObj && !extendObj) {\n          obj = customObj;\n        } else {\n          // Add default object (sphere mesh)\n          obj = new three$1.Mesh();\n          obj.__graphDefaultObj = true;\n          if (customObj && extendObj) {\n            obj.add(customObj); // extend default with custom\n          }\n        }\n        obj.__graphObjType = 'node'; // Add object type\n\n        return obj;\n      }).onUpdateObj(function (obj, node) {\n        if (obj.__graphDefaultObj) {\n          // bypass internal updates for custom node objects\n          var val = valAccessor(node) || 1;\n          var radius = Math.cbrt(val) * state.nodeRelSize;\n          var numSegments = state.nodeResolution;\n          if (!obj.geometry.type.match(/^Sphere(Buffer)?Geometry$/) || obj.geometry.parameters.radius !== radius || obj.geometry.parameters.widthSegments !== numSegments) {\n            if (!sphereGeometries.hasOwnProperty(val)) {\n              sphereGeometries[val] = new three$1.SphereGeometry(radius, numSegments, numSegments);\n            }\n            obj.geometry.dispose();\n            obj.geometry = sphereGeometries[val];\n          }\n          var color = colorAccessor(node);\n          var materialColor = new three$1.Color(colorStr2Hex(color || '#ffffaa'));\n          var opacity = state.nodeOpacity * colorAlpha(color);\n          if (obj.material.type !== 'MeshLambertMaterial' || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n            if (!sphereMaterials.hasOwnProperty(color)) {\n              sphereMaterials[color] = new three$1.MeshLambertMaterial({\n                color: materialColor,\n                transparent: true,\n                opacity: opacity\n              });\n            }\n            obj.material.dispose();\n            obj.material = sphereMaterials[color];\n          }\n        }\n      }).digest(state.graphData.nodes.filter(visibilityAccessor));\n    }\n\n    // Digest links WebGL objects\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'linkThreeObject', 'linkThreeObjectExtend', 'linkMaterial', 'linkColor', 'linkWidth', 'linkVisibility', 'linkResolution', 'linkOpacity', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'linkDirectionalParticleThreeObject'])) {\n      var _customObjectAccessor = accessorFn(state.linkThreeObject);\n      var _customObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n      var customMaterialAccessor = accessorFn(state.linkMaterial);\n      var _visibilityAccessor = accessorFn(state.linkVisibility);\n      var _colorAccessor = accessorFn(state.linkColor);\n      var widthAccessor = accessorFn(state.linkWidth);\n      var cylinderGeometries = {}; // indexed by link width\n      var lambertLineMaterials = {}; // for cylinder objects, indexed by link color\n      var basicLineMaterials = {}; // for line objects, indexed by link color\n\n      var visibleLinks = state.graphData.links.filter(_visibilityAccessor);\n\n      // lines digest cycle\n      if (state._flushObjects || hasAnyPropChanged([\n      // recreate objects if any of these props have changed\n      'linkThreeObject', 'linkThreeObjectExtend', 'linkWidth'])) state.linkDataMapper.clear();\n      state.linkDataMapper.onRemoveObj(function (obj) {\n        // remove trailing single photons\n        var singlePhotonsObj = obj.__data && obj.__data.__singleHopPhotonsObj;\n        if (singlePhotonsObj) {\n          singlePhotonsObj.parent.remove(singlePhotonsObj);\n          emptyObject(singlePhotonsObj);\n          delete obj.__data.__singleHopPhotonsObj;\n        }\n      }).onCreateObj(function (link) {\n        var customObj = _customObjectAccessor(link);\n        var extendObj = _customObjectExtendAccessor(link);\n        if (customObj && state.linkThreeObject === customObj) {\n          // clone object if it's a shared object among all links\n          customObj = customObj.clone();\n        }\n        var defaultObj;\n        if (!customObj || extendObj) {\n          // construct default line obj\n          var useCylinder = !!widthAccessor(link);\n          if (useCylinder) {\n            defaultObj = new three$1.Mesh();\n          } else {\n            // Use plain line (constant width)\n            var lineGeometry = new three$1.BufferGeometry();\n            lineGeometry[setAttributeFn]('position', new three$1.BufferAttribute(new Float32Array(2 * 3), 3));\n            defaultObj = new three$1.Line(lineGeometry);\n          }\n        }\n        var obj;\n        if (!customObj) {\n          obj = defaultObj;\n          obj.__graphDefaultObj = true;\n        } else {\n          if (!extendObj) {\n            // use custom object\n            obj = customObj;\n          } else {\n            // extend default with custom in a group\n            obj = new three$1.Group();\n            obj.__graphDefaultObj = true;\n            obj.add(defaultObj);\n            obj.add(customObj);\n          }\n        }\n        obj.renderOrder = 10; // Prevent visual glitches of dark lines on top of nodes by rendering them last\n\n        obj.__graphObjType = 'link'; // Add object type\n\n        return obj;\n      }).onUpdateObj(function (updObj, link) {\n        if (updObj.__graphDefaultObj) {\n          // bypass internal updates for custom link objects\n          // select default object if it's an extended group\n          var obj = updObj.children.length ? updObj.children[0] : updObj;\n          var linkWidth = Math.ceil(widthAccessor(link) * 10) / 10;\n          var useCylinder = !!linkWidth;\n          if (useCylinder) {\n            var r = linkWidth / 2;\n            var numSegments = state.linkResolution;\n            if (!obj.geometry.type.match(/^Cylinder(Buffer)?Geometry$/) || obj.geometry.parameters.radiusTop !== r || obj.geometry.parameters.radialSegments !== numSegments) {\n              if (!cylinderGeometries.hasOwnProperty(linkWidth)) {\n                var geometry = new three$1.CylinderGeometry(r, r, 1, numSegments, 1, false);\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeTranslation(0, 1 / 2, 0));\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeRotationX(Math.PI / 2));\n                cylinderGeometries[linkWidth] = geometry;\n              }\n              obj.geometry.dispose();\n              obj.geometry = cylinderGeometries[linkWidth];\n            }\n          }\n          var customMaterial = customMaterialAccessor(link);\n          if (customMaterial) {\n            obj.material = customMaterial;\n          } else {\n            var color = _colorAccessor(link);\n            var materialColor = new three$1.Color(colorStr2Hex(color || '#f0f0f0'));\n            var opacity = state.linkOpacity * colorAlpha(color);\n            var materialType = useCylinder ? 'MeshLambertMaterial' : 'LineBasicMaterial';\n            if (obj.material.type !== materialType || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n              var lineMaterials = useCylinder ? lambertLineMaterials : basicLineMaterials;\n              if (!lineMaterials.hasOwnProperty(color)) {\n                lineMaterials[color] = new three$1[materialType]({\n                  color: materialColor,\n                  transparent: opacity < 1,\n                  opacity: opacity,\n                  depthWrite: opacity >= 1 // Prevent transparency issues\n                });\n              }\n              obj.material.dispose();\n              obj.material = lineMaterials[color];\n            }\n          }\n        }\n      }).digest(visibleLinks);\n\n      // Arrows digest cycle\n      if (state.linkDirectionalArrowLength || changedProps.hasOwnProperty('linkDirectionalArrowLength')) {\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var arrowColorAccessor = accessorFn(state.linkDirectionalArrowColor);\n        state.arrowDataMapper.onCreateObj(function () {\n          var obj = new three$1.Mesh(undefined, new three$1.MeshLambertMaterial({\n            transparent: true\n          }));\n          obj.__linkThreeObjType = 'arrow'; // Add object type\n\n          return obj;\n        }).onUpdateObj(function (obj, link) {\n          var arrowLength = arrowLengthAccessor(link);\n          var numSegments = state.linkDirectionalArrowResolution;\n          if (!obj.geometry.type.match(/^Cone(Buffer)?Geometry$/) || obj.geometry.parameters.height !== arrowLength || obj.geometry.parameters.radialSegments !== numSegments) {\n            var coneGeometry = new three$1.ConeGeometry(arrowLength * 0.25, arrowLength, numSegments);\n            // Correct orientation\n            coneGeometry.translate(0, arrowLength / 2, 0);\n            coneGeometry.rotateX(Math.PI / 2);\n            obj.geometry.dispose();\n            obj.geometry = coneGeometry;\n          }\n          var arrowColor = arrowColorAccessor(link) || _colorAccessor(link) || '#f0f0f0';\n          obj.material.color = new three$1.Color(colorStr2Hex(arrowColor));\n          obj.material.opacity = state.linkOpacity * 3 * colorAlpha(arrowColor);\n        }).digest(visibleLinks.filter(arrowLengthAccessor));\n      }\n\n      // Photon particles digest cycle\n      if (state.linkDirectionalParticles || changedProps.hasOwnProperty('linkDirectionalParticles')) {\n        var particlesAccessor = accessorFn(state.linkDirectionalParticles);\n        var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n        var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n        var particleObjectAccessor = accessorFn(state.linkDirectionalParticleThreeObject);\n        var particleMaterials = {}; // indexed by link color\n        var particleGeometries = {}; // indexed by particle width\n\n        state.particlesDataMapper.onCreateObj(function () {\n          var obj = new three$1.Group();\n          obj.__linkThreeObjType = 'photons'; // Add object type\n\n          obj.__photonDataMapper = new ThreeDigest(obj);\n          return obj;\n        }).onUpdateObj(function (obj, link) {\n          var curPhoton = !!obj.children.length && obj.children[0];\n          var customObj = particleObjectAccessor(link);\n          var particleGeometry, particleMaterial;\n          if (customObj) {\n            particleGeometry = customObj.geometry;\n            particleMaterial = customObj.material;\n          } else {\n            var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n            var numSegments = state.linkDirectionalParticleResolution;\n            if (curPhoton && curPhoton.geometry.parameters.radius === photonR && curPhoton.geometry.parameters.widthSegments === numSegments) {\n              particleGeometry = curPhoton.geometry;\n            } else {\n              if (!particleGeometries.hasOwnProperty(photonR)) {\n                particleGeometries[photonR] = new three$1.SphereGeometry(photonR, numSegments, numSegments);\n              }\n              particleGeometry = particleGeometries[photonR];\n            }\n            var photonColor = particleColorAccessor(link) || _colorAccessor(link) || '#f0f0f0';\n            var materialColor = new three$1.Color(colorStr2Hex(photonColor));\n            var opacity = state.linkOpacity * 3;\n            if (curPhoton && curPhoton.material.color.equals(materialColor) && curPhoton.material.opacity === opacity) {\n              particleMaterial = curPhoton.material;\n            } else {\n              if (!particleMaterials.hasOwnProperty(photonColor)) {\n                particleMaterials[photonColor] = new three$1.MeshLambertMaterial({\n                  color: materialColor,\n                  transparent: true,\n                  opacity: opacity\n                });\n              }\n              particleMaterial = particleMaterials[photonColor];\n            }\n          }\n          if (curPhoton) {\n            // Dispose of previous particles\n            curPhoton.geometry !== particleGeometry && curPhoton.geometry.dispose();\n            curPhoton.material !== particleMaterial && curPhoton.material.dispose();\n          }\n\n          // digest cycle for each photon\n          var numPhotons = Math.round(Math.abs(particlesAccessor(link)));\n          obj.__photonDataMapper.id(function (d) {\n            return d.idx;\n          }).onCreateObj(function () {\n            return new three$1.Mesh(particleGeometry, particleMaterial);\n          }).onUpdateObj(function (obj) {\n            obj.geometry = particleGeometry;\n            obj.material = particleMaterial;\n          }).digest(_toConsumableArray(new Array(numPhotons)).map(function (_, idx) {\n            return {\n              idx: idx\n            };\n          }));\n        }).digest(visibleLinks.filter(particlesAccessor));\n      }\n    }\n    state._flushObjects = false; // reset objects refresh flag\n\n    // simulation engine\n    if (hasAnyPropChanged(['graphData', 'nodeId', 'linkSource', 'linkTarget', 'numDimensions', 'forceEngine', 'dagMode', 'dagNodeFilter', 'dagLevelDistance'])) {\n      state.engineRunning = false; // Pause simulation\n\n      // parse links\n      state.graphData.links.forEach(function (link) {\n        link.source = link[state.linkSource];\n        link.target = link[state.linkTarget];\n      });\n\n      // Feed data to force-directed layout\n      var isD3Sim = state.forceEngine !== 'ngraph';\n      var layout;\n      if (isD3Sim) {\n        // D3-force\n        (layout = state.d3ForceLayout).stop().alpha(1) // re-heat the simulation\n        .numDimensions(state.numDimensions).nodes(state.graphData.nodes);\n\n        // add links (if link force is still active)\n        var linkForce = state.d3ForceLayout.force('link');\n        if (linkForce) {\n          linkForce.id(function (d) {\n            return d[state.nodeId];\n          }).links(state.graphData.links);\n        }\n\n        // setup dag force constraints\n        var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n          return node[state.nodeId];\n        }, {\n          nodeFilter: state.dagNodeFilter,\n          onLoopError: state.onDagError || undefined\n        });\n        var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n        var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1);\n\n        // Reset relevant f* when swapping dag modes\n        if (['lr', 'rl', 'td', 'bu', 'zin', 'zout'].includes(changedProps.dagMode)) {\n          var resetProp = ['lr', 'rl'].includes(changedProps.dagMode) ? 'fx' : ['td', 'bu'].includes(changedProps.dagMode) ? 'fy' : 'fz';\n          state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n            return delete node[resetProp];\n          });\n        }\n\n        // Fix nodes to x,y,z for dag mode\n        if (['lr', 'rl', 'td', 'bu', 'zin', 'zout'].includes(state.dagMode)) {\n          var invert = ['rl', 'td', 'zout'].includes(state.dagMode);\n          var fixFn = function fixFn(node) {\n            return (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n          };\n          var _resetProp = ['lr', 'rl'].includes(state.dagMode) ? 'fx' : ['td', 'bu'].includes(state.dagMode) ? 'fy' : 'fz';\n          state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n            return node[_resetProp] = fixFn(node);\n          });\n        }\n\n        // Use radial force for radial dags\n        state.d3ForceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n          var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n          return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n        }).strength(function (node) {\n          return state.dagNodeFilter(node) ? 1 : 0;\n        }) : null);\n      } else {\n        // ngraph\n        var _graph = ngraph.graph();\n        state.graphData.nodes.forEach(function (node) {\n          _graph.addNode(node[state.nodeId]);\n        });\n        state.graphData.links.forEach(function (link) {\n          _graph.addLink(link.source, link.target);\n        });\n        layout = ngraph.forcelayout(_graph, _objectSpread2({\n          dimensions: state.numDimensions\n        }, state.ngraphPhysics));\n        layout.graph = _graph; // Attach graph reference to layout\n      }\n      for (var i = 0; i < state.warmupTicks && !(isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin); i++) {\n        layout[isD3Sim ? \"tick\" : \"step\"]();\n      } // Initial ticks before starting to render\n\n      state.layout = layout;\n      this.resetCountdown();\n    }\n    state.engineRunning = true; // resume simulation\n\n    state.onFinishUpdate();\n  }\n});\n\nfunction fromKapsule (kapsule) {\n  var baseClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Object;\n  var initKapsuleWithSelf = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var ForceGraph = /*#__PURE__*/function (_baseClass) {\n    function ForceGraph() {\n      var _this;\n      _classCallCheck(this, ForceGraph);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, ForceGraph, [].concat(args));\n      _this.__kapsuleInstance = _construct(kapsule, [].concat(_toConsumableArray(initKapsuleWithSelf ? [_this] : []), args));\n      return _this;\n    }\n    _inherits(ForceGraph, _baseClass);\n    return _createClass(ForceGraph);\n  }(baseClass); // attach kapsule props/methods to class prototype\n  Object.keys(kapsule()).forEach(function (m) {\n    return ForceGraph.prototype[m] = function () {\n      var _this$__kapsuleInstan;\n      var returnVal = (_this$__kapsuleInstan = this.__kapsuleInstance)[m].apply(_this$__kapsuleInstan, arguments);\n      return returnVal === this.__kapsuleInstance ? this // chain based on this class, not the kapsule obj\n      : returnVal;\n    };\n  });\n  return ForceGraph;\n}\n\nvar three = window.THREE ? window.THREE : {\n  Group: Group\n}; // Prefer consumption from global THREE, if exists\nvar threeForcegraph = fromKapsule(ForceGraph, three.Group, true);\n\nexport { threeForcegraph as default };\n", "import { REVISION, AmbientLight, DirectionalLight } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  REVISION: REVISION\n};\n\n//\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170;\n\n//\n\n// Expose config from forceGraph\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'nodePositionUpdate', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleOffset', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'linkDirectionalParticleThreeObject', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['lights', 'cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}]));\n\n//\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n        if (controls) {\n          controls.enabled = enable;\n          // trigger mouseup on re-enable to prevent sticky controls\n          enable && controls.domElement && controls.domElement.dispatchEvent(new PointerEvent('pointerup'));\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    showPointerCursor: {\n      \"default\": true,\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      }\n\n      // Frame cycle\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n      rendererConfig = _ref5.rendererConfig,\n      extraRenderers = _ref5.extraRenderers;\n    var forceGraph = new ThreeForceGraph();\n    return {\n      forceGraph: forceGraph,\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      }).objects([forceGraph]) // Populate scene\n      .lights([new three.AmbientLight(0xcccccc, Math.PI), new three.DirectionalLight(0xffffff, 0.6 * Math.PI)])\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z;\n\n    // Add info space\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = '';\n\n    // config forcegraph\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData();\n\n      // re-aim camera, if still in default position (not user modified)\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n        }\n        state._dragControls = undefined;\n      }\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programmatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!nodeObj) return;\n          controls.enabled = false; // Disable controls while dragging\n\n          // track drag object movement\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n          var node = nodeObj.__data;\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          });\n\n          // lock node\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          });\n\n          // drag cursor\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!nodeObj) return;\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n            prevPos.copy(_newPos);\n            _newPos.copy(initPos); // reset child back to its initial position\n          }\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          };\n          // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!nodeObj) return;\n          delete event.object.__initialPos; // remove tracking attributes\n          delete event.object.__prevPos;\n          var node = nodeObj.__data;\n\n          // dispose previous controls if needed\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            var _controls$_onPointerC;\n            controls.enabled = true; // Re-enable controls\n\n            controls._status && ((_controls$_onPointerC = controls._onPointerCancel) === null || _controls$_onPointerC === void 0 ? void 0 : _controls$_onPointerC.call(controls)); // cancel pressed status on fly controls\n\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent(\n            // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          }\n\n          // clear cursor\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    });\n\n    // config renderObjs\n    three.REVISION < 155 && (state.renderObjs.renderer().useLegacyLights = false); // force behavior for three < 155\n    state.renderObjs.hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1;\n\n      // Prioritize nodes over links\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        renderer.domElement.classList[(hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick) && accessorFn(state.showPointerCursor)(objData) ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n//\n\nfunction getGraphObj(object) {\n  var obj = object;\n  // recurse up object chain until finding the graph object\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n  return obj;\n}\n\nexport { _3dForceGraph as default };\n", "import fromKapsule from 'react-kapsule';\nimport ForceGraph3DKapsule from '3d-force-graph';\nimport PropTypes from 'prop-types';\n\nconst commonPropTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  graphData: PropTypes.shape({\n    nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    links: PropTypes.arrayOf(PropTypes.object).isRequired\n  }),\n  backgroundColor: PropTypes.string,\n  nodeRelSize: PropTypes.number,\n  nodeId: PropTypes.string,\n  nodeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeVal: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  nodeVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  nodeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onNodeHover: PropTypes.func,\n  onNodeClick: PropTypes.func,\n  linkSource: PropTypes.string,\n  linkTarget: PropTypes.string,\n  linkLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkCurvature: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowRelPos: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticles: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleSpeed: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onLinkHover: PropTypes.func,\n  onLinkClick: PropTypes.func,\n  dagMode: PropTypes.oneOf(['td', 'bu', 'lr', 'rl', 'zin', 'zout', 'radialin', 'radialout']),\n  dagLevelDistance: PropTypes.number,\n  dagNodeFilter: PropTypes.func,\n  onDagError: PropTypes.func,\n  d3AlphaMin: PropTypes.number,\n  d3AlphaDecay: PropTypes.number,\n  d3VelocityDecay: PropTypes.number,\n  warmupTicks: PropTypes.number,\n  cooldownTicks: PropTypes.number,\n  cooldownTime: PropTypes.number,\n  onEngineTick: PropTypes.func,\n  onEngineStop: PropTypes.func,\n  getGraphBbox: PropTypes.func\n};\nconst pointerBasedPropTypes = {\n  zoomToFit: PropTypes.func,\n  onNodeRightClick: PropTypes.func,\n  onNodeDrag: PropTypes.func,\n  onNodeDragEnd: PropTypes.func,\n  onLinkRightClick: PropTypes.func,\n  linkHoverPrecision: PropTypes.number,\n  onBackgroundClick: PropTypes.func,\n  onBackgroundRightClick: PropTypes.func,\n  showPointerCursor: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  enablePointerInteraction: PropTypes.bool,\n  enableNodeDrag: PropTypes.bool\n};\nconst threeBasedPropTypes = {\n  showNavInfo: PropTypes.bool,\n  nodeOpacity: PropTypes.number,\n  nodeResolution: PropTypes.number,\n  nodeThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  nodeThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  nodePositionUpdate: PropTypes.func,\n  linkOpacity: PropTypes.number,\n  linkResolution: PropTypes.number,\n  linkCurveRotation: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkMaterial: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkPositionUpdate: PropTypes.func,\n  linkDirectionalArrowResolution: PropTypes.number,\n  linkDirectionalParticleResolution: PropTypes.number,\n  linkDirectionalParticleThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  forceEngine: PropTypes.oneOf(['d3', 'ngraph']),\n  ngraphPhysics: PropTypes.object,\n  numDimensions: PropTypes.oneOf([1, 2, 3])\n};\nObject.assign({}, commonPropTypes, pointerBasedPropTypes, {\n  linkLineDash: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.string, PropTypes.func]),\n  nodeCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeCanvasObject: PropTypes.func,\n  nodePointerAreaPaint: PropTypes.func,\n  linkCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkCanvasObject: PropTypes.func,\n  linkPointerAreaPaint: PropTypes.func,\n  linkDirectionalParticleCanvasObject: PropTypes.func,\n  autoPauseRedraw: PropTypes.bool,\n  minZoom: PropTypes.number,\n  maxZoom: PropTypes.number,\n  enableZoomInteraction: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  enablePanInteraction: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  onZoom: PropTypes.func,\n  onZoomEnd: PropTypes.func,\n  onRenderFramePre: PropTypes.func,\n  onRenderFramePost: PropTypes.func\n});\nconst ForceGraph3DPropTypes = Object.assign({}, commonPropTypes, pointerBasedPropTypes, threeBasedPropTypes, {\n  enableNavigationControls: PropTypes.bool,\n  controlType: PropTypes.oneOf(['trackball', 'orbit', 'fly']),\n  rendererConfig: PropTypes.object,\n  extraRenderers: PropTypes.arrayOf(PropTypes.shape({\n    render: PropTypes.func.isRequired\n  }))\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  nodeDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  markerAttrs: PropTypes.object,\n  yOffset: PropTypes.number,\n  glScale: PropTypes.number\n});\n\nconst ForceGraph3D = fromKapsule(ForceGraph3DKapsule, {\n  methodNames: [\n  // bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'stopAnimation', 'pauseAnimation', 'resumeAnimation', 'cameraPosition', 'zoomToFit', 'getGraphBbox', 'screen2GraphCoords', 'graph2ScreenCoords', 'postProcessingComposer', 'lights', 'scene', 'camera', 'renderer', 'controls', 'refresh'],\n  initPropNames: ['controlType', 'rendererConfig', 'extraRenderers']\n});\nForceGraph3D.displayName = 'ForceGraph3D';\nForceGraph3D.propTypes = ForceGraph3DPropTypes;\n\nexport { ForceGraph3D as default };\n"],
  "mappings": "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",
  "names": ["index", "eventify", "subject", "validateSubject", "eventsStorage", "createEventsStorage", "registeredEvents", "eventName", "callback", "ctx", "handlers", "callbacks", "fireArguments", "i", "callbackInfo", "reservedWords", "c", "require_ngraph", "x", "y", "z", "eventify", "require_ngraph", "eventify", "camera", "x", "y", "z", "x", "x", "z", "x", "x2", "x", "x", "add_default", "x", "y", "add", "addAll", "cover_default", "x", "y", "z", "data_default", "extent_default", "find_default", "x", "y", "x2", "y2", "remove_default", "x", "y", "removeAll", "root_default", "size_default", "visit_default", "visitAfter_default", "defaultX", "x_default", "x", "y", "defaultX", "leaf_copy", "treeProto", "add_default", "addAll", "cover_default", "data_default", "extent_default", "find_default", "remove_default", "removeAll", "root_default", "size_default", "visit_default", "visitAfter_default", "x_default", "x", "index", "x", "y", "z", "m", "i", "x", "y", "z", "node", "strength", "c", "x", "y", "z", "x", "y", "z", "links", "import_ngraph", "a", "t", "r", "e", "o", "emptyObject", "ThreeDigest", "scene", "colorStr2Hex", "colorAlpha", "nodes", "_loop", "forcelayout", "index", "onChange", "_default", "iplt", "start", "end", "c", "pos", "bboxes", "obj", "hasAnyPropChanged", "fixFn", "ForceGraph", "m", "_arrayLikeToArray", "a", "_arrayWithoutHoles", "_defineProperty", "_toPropertyKey", "_iterableToArray", "_nonIterableSpread", "ownKeys", "r", "_objectSpread2", "_toConsumableArray", "_unsupportedIterableToArray", "_toPrimitive", "onChange", "three", "index", "controls", "_default", "stateInit", "init", "camera", "renderer", "c", "isNode", "PropTypes"]
}
